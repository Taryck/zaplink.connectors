<?xml version="1.0" encoding="utf-16"?>
<CONTAINER NAME="ZAPLINK_FUNCTION_GROUP" VERSION="1.0" CLASS="ZAPLINK_CONTAINER">
 <ZL_OBJECT CHECKSUM="08E5FAD6A731B0D16A4A0FE706541BFC" CODE_SIGNATURE="7CBEC1195508A06B10F6ABDE48ABA753" CONNECTOR="39AC0A4B07A5A05AE1000000AC120173" NAME="ZAPLINK_DOCUMENTATION" TYPE="CLAS" VERSION="1.01">
  <DEPENDENCIES>
   <ITEM TYPE="CLAS" NAME="ZAPLINK_CONNECTOR_"/>
  </DEPENDENCIES>
  <DIRECTORY SRCSYSTEM="OD4" AUTHOR="TBENSIAL" DEVCLASS="ZAPLINK-CONNECTORS-MAIN" MASTERLANG="E"/>
  <RAW>
   <A0_MAINDATA VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20090617" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" CLSCCINCL="X" FIXPT="X" UNICODE="X" R3RELEASE="700">
    <INHERITANCE REFCLSNAME="ZAPLINK_CONNECTOR_" VERSION="1" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100309" CHANGEDBY="TBENSIAL" CHANGEDON="20100309"/>
    <TEXTS>
     <ITEM LANG="E" TEXT="ZAPLink - Documentation tools">U1&amp;FUNCTIONALITY&amp;
ASIs a connector for :
AS- DOCT : General Text
AS- DOCV : Independent Documentation
U1&amp;RELATIONS&amp;
ASIs part of ZAP Link Framework as Official Connector.
U1&amp;EXAMPLE&amp;
AS
U1&amp;HINTS&amp;
AS
U1&amp;FURTHER_SOURCES_OF_INF&amp;
AShttps://code.google.com/p/zaplink/wiki/Connector
U1Memories
ASThis application is dedicated to the memories of :
B2My father : Lamri BENSIALI (1940-2004) without whom I never started
  programming
B2My uncle : Jacky BEDU (1934-2009) who died during the completion of this
  application</ITEM>
    </TEXTS>
   </A0_MAINDATA>
   <ATTRIBUTS>
    <ITEM CMPNAME="BALLOG_SUBOBJECT" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100309" ATTDECLTYP="2" ATTVALUE="&apos;CNX_DOCUMENTATION&apos;" TYPTYPE="1" TYPE="BALSUBOBJ" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="Application Log: Subobject"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="LOG" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100309" ATTDECLTYP="1" TYPTYPE="1" TYPE="TO_MSG_COLL" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="Statit log"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="NODE_NAME" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20091118" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" ATTDECLTYP="2" ATTVALUE="&apos;DOCS&apos;" TYPTYPE="1" TYPE="STRING">
     <TEXTS>
      <ITEM LANG="E" TEXT="Node name for documentaiton"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="SUPPORTEDTYPES" VERSION="1" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100309" CHANGEDBY="TBENSIAL" CHANGEDON="20100402" ATTDECLTYP="2" TYPTYPE="4" R3RELEASE="700">BEGIN OF supportedtypes,                                  &quot;#EC NOTEXT
      general           TYPE td_comptype VALUE &apos;DOCT&apos;,    &quot; General Text
      Indep             TYPE td_comptype VALUE &apos;DOCV&apos;,    &quot; Documentation (Independent)
    END OF supportedtypes
`</ITEM>
    <ITEM CMPNAME="_UUID" VERSION="1" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100309" ATTDECLTYP="2" ATTVALUE="&apos;3D34954BEABE5F12E1000000AC120173&apos;" TYPTYPE="1" TYPE="TD_CONNUUID" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="UUID for connector Message class"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="_VER" VERSION="1" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100309" ATTDECLTYP="2" ATTVALUE="&apos;1.0&apos;" TYPTYPE="1" TYPE="TD_CONNVER" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="Connector Version"/>
     </TEXTS>
    </ITEM>
   </ATTRIBUTS>
   <LOCAL>
    <TYPES>`
*&quot;* USE THIS SOURCE FILE FOR ANY TYPE DECLARATIONS (CLASS
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* IMPLEMENTATION OR PRIVATE METHOD&apos;S SIGNATURE</TYPES>
    <IMPLEMENTATIONS>`
*&quot;* LOCAL CLASS IMPLEMENTATION FOR PUBLIC CLASS
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</IMPLEMENTATIONS>
    <MACROS>`
*&quot;* USE THIS SOURCE FILE FOR ANY MACRO DEFINITIONS YOU NEED
*&quot;* IN THE IMPLEMENTATION PART OF THE CLASS

INCLUDE zaplink_macros.

DEFINE lmac_add_mf_and_raise.
  o_mycx ?= zaplink_cx=&gt;create_from_mf_cx( funcname = &amp;1
                                              subrc = &amp;2
                                          classname = &apos;ZAPLINK_CX_CONNECTOR&apos; ).
  log-&gt;add_symsg( ).
  log-&gt;add_exception( o_mycx ).
  raise exception o_mycx.
END-OF-DEFINITION.</MACROS>
   </LOCAL>
   <METHODS>
    <ITEM CMPNAME="CLASS_CONSTRUCTOR" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20091118" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" MTDTYPE="2" MTDDECLTYP="1">
     <TEXTS>
      <ITEM LANG="E" TEXT="CLASS_CONSTRUCTOR"/>
     </TEXTS>
     <SOURCE>`
  mac_create_log log ballog_subobject space.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="CONSTRUCTOR" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100309" MTDTYPE="2" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="CONSTRUCTOR"/>
     </TEXTS>
     <SOURCE>`
  DATA type LIKE LINE OF supported_types.

  super-&gt;constructor( ).
  mac_create_log application_log ballog_subobject space.
  type-type = supportedtypes-general. INSERT type INTO TABLE supported_types.
  type-type = supportedtypes-indep.   INSERT type INTO TABLE supported_types.

  uuid = _uuid.
  version = _ver.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="DOCU_GET" VERSION="1" STATE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20091118" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" MTDDECLTYP="1" MTDNEWEXC="X">
     <TEXTS>
      <ITEM LANG="E" TEXT="Get documentation"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="DOCU" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20091118" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" PARPASSTYP="1" TYPTYPE="1" TYPE="DOKIL">
       <TEXTS>
        <ITEM LANG="E" TEXT="Index for Documentation Table DOKH"/>
       </TEXTS>
      </ITEM>
      <ITEM SCONAME="HEAD" VERSION="1" CMPTYPE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20091118" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" PARDECLTYP="1" PARPASSTYP="1" TYPTYPE="1" TYPE="TS_HEAD"/>
      <ITEM SCONAME="LANG" VERSION="1" CMPTYPE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20091118" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" PARDECLTYP="1" PARPASSTYP="1" TYPTYPE="1" TYPE="TS_LANG"/>
     </PARAMETERS>
     <EXCEPTIONS>
      <ITEM SCONAME="ZAPLINK_CX_CONNECTOR" VERSION="1" LANGU="E" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100309" CHANGEDBY="TBENSIAL" CHANGEDON="20100309">
       <TEXTS>
        <ITEM LANG="E" TEXT="ZAPlink ROOT Exception for Connectors"/>
       </TEXTS>
      </ITEM>
     </EXCEPTIONS>
     <SOURCE>`
  DATA _text  TYPE tt_rawtext.

  TRY.
    head-id = docu-id.
    head-object = docu-object.
    head-masterlang = docu-masterlang.
    head-langu = docu-langu.
    head-typ = docu-typ.
    head-selfdef = docu-selfdef.
    IF docu-selfdef = space.
      CALL FUNCTION &apos;DOCU_GET&apos;
        EXPORTING
*       EXTEND_EXCEPT                = &apos; &apos;
          id                           = docu-id
          langu                        = docu-langu
          object                       = docu-object
          typ                          = docu-typ
          version                      = docu-version
          version_active_or_last       = &apos;A&apos;
*         PRINT_PARAM_GET              = &apos;X&apos;
        IMPORTING
          dokstate                     = lang-state
*         DOKTITLE                     =
          head                         = lang-head
*        doktyp                       = head-typ
        TABLES
          line                         = _text
        EXCEPTIONS
          no_docu_on_screen            = 1
          no_docu_self_def             = 2
          no_docu_temp                 = 3
          ret_code                     = 4
          OTHERS                       = 5.
      IF sy-subrc &lt;&gt; 0.
        lmac_add_mf_and_raise &apos;DOCU_GET&apos; sy-subrc.
      ENDIF.
      lang-_ = raw2string( _text ).
      head-application = lang-tdobject.
      head-dokform = lang-tdform.
      head-dokstyle = lang-tdstyle.
      CLEAR:
        lang-tdobject,
        lang-tdname,
        lang-tdid,
        lang-tdform,
        lang-tdstyle.
    ENDIF.

    mac_def_catch zaplink_cx_connector.
  ENDTRY.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="GET" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20091118" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" MTDDECLTYP="1">
     <PARAMETERS>
      <ITEM SCONAME="IDS" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20091118" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" PARPASSTYP="1" TYPTYPE="1" TYPE="TR_DOCID">
       <TEXTS>
        <ITEM LANG="E" TEXT="Range of ID"/>
       </TEXTS>
      </ITEM>
      <ITEM SCONAME="OBJECT" VERSION="1" CMPTYPE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20091118" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" PARPASSTYP="1" TYPTYPE="1" TYPE="DOKU_OBJ">
       <TEXTS>
        <ITEM LANG="E" TEXT="Documentation Object"/>
       </TEXTS>
      </ITEM>
      <ITEM SCONAME="T_DOCS" VERSION="1" CMPTYPE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20091118" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" PARDECLTYP="3" TYPTYPE="1" TYPE="TT_DOCS">
       <TEXTS>
        <ITEM LANG="E" TEXT="Documents"/>
       </TEXTS>
      </ITEM>
     </PARAMETERS>
     <SOURCE>`
  DATA _obj   TYPE RANGE OF doku_obj.
  DATA my_obj LIKE LINE OF _obj.
  DATA docs   TYPE STANDARD TABLE OF dokil WITH DEFAULT KEY.
  DATA doc    LIKE LINE OF t_docs.
  DATA _lang  LIKE LINE OF doc-texts.
  FIELD-SYMBOLS:
    &lt;d&gt; LIKE LINE OF docs.

  IF ids IS INITIAL.
    EXIT.
  ENDIF.

  my_obj-sign = &apos;I&apos;. my_obj-option = &apos;CP&apos;.
  my_obj-low = object. APPEND my_obj TO _obj.

  SELECT * INTO TABLE docs
    FROM dokil
    WHERE id IN ids
      AND object IN _obj.

  IF docs IS INITIAL.
    EXIT.
  ENDIF.

  reset( ).

  SORT docs BY id object masterlang DESCENDING langu.

  LOOP AT docs ASSIGNING &lt;d&gt;.
    AT NEW object. &quot; ID + OBJECT
      CLEAR doc.
      CALL METHOD docu_get
        EXPORTING
          docu = &lt;d&gt;
        IMPORTING
          head = doc-hdr
          lang = _lang.
    ENDAT.

    IF _lang IS INITIAL.
      CALL METHOD docu_get
        EXPORTING
          docu   = &lt;d&gt;
        IMPORTING
*          head   = _head
          lang   = _lang.
    ENDIF.
    IF NOT _lang IS INITIAL.
      CLEAR: _lang-tdversion, _lang-tdfuser, _lang-tdfdate, _lang-tdftime, _lang-tdluser, _lang-tdldate, _lang-tdltime.   &quot; Issue 68 : Remove useless data
      INSERT _lang INTO TABLE doc-texts.
      CLEAR _lang.
    ENDIF.

    AT END OF object. &quot; ID + OBJECT
      APPEND doc TO t_docs.
    ENDAT.
  ENDLOOP.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="GET_SINGLE" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100309" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" MTDDECLTYP="1" R3RELEASE="700">
     <PARAMETERS>
      <ITEM SCONAME="IDS" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100309" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" PARPASSTYP="1" TYPTYPE="1" TYPE="TD_DOC_ID"/>
      <ITEM SCONAME="OBJECT" VERSION="1" CMPTYPE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100309" PARPASSTYP="1" TYPTYPE="1" TYPE="DOKU_OBJ">
       <TEXTS>
        <ITEM LANG="E" TEXT="Documentation Object"/>
       </TEXTS>
      </ITEM>
      <ITEM SCONAME="RESULT" VERSION="1" CMPTYPE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100309" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" PARDECLTYP="3" TYPTYPE="1" TYPE="TS_DOC">
       <TEXTS>
        <ITEM LANG="E" TEXT="Document"/>
       </TEXTS>
      </ITEM>
     </PARAMETERS>
     <SOURCE>`
  DATA r_ids  TYPE tr_docid.
  DATA my_id  LIKE LINE OF r_ids.
  DATA t_docs TYPE tt_docs.

  my_id-sign = &apos;I&apos;. my_id-option = &apos;EQ&apos;.    my_id-low = ids. APPEND my_id TO r_ids.
  t_docs = get( ids = r_ids
             object = object ).
  IF NOT t_docs IS INITIAL.   READ TABLE t_docs INTO result INDEX 1.    ENDIF.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="NAME_2_MASK" VERSION="1" STATE="1" EDITORDER="5 " AUTHOR="TBENSIAL" CREATEDON="20100402" MTDDECLTYP="1" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="Convert Component name to mask depending of component type"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="NAME" VERSION="1" CMPTYPE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100402" PARPASSTYP="1" TYPTYPE="1" TYPE="TD_COMPNAME"/>
      <ITEM SCONAME="RESULT" VERSION="1" CMPTYPE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100402" PARDECLTYP="3" TYPTYPE="1" TYPE="TS_NAME_MASK"/>
      <ITEM SCONAME="TYPE" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100402" PARPASSTYP="1" TYPTYPE="1" TYPE="TD_COMPTYPE"/>
     </PARAMETERS>
     <SOURCE>`
  CASE type.
    WHEN supportedtypes-general. result-id = &apos;TX&apos;.    result-object = name.
    WHEN supportedtypes-indep.   result = name.
  ENDCASE.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="RAW2STRING" VERSION="1" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20091118" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" MTDDECLTYP="1">
     <TEXTS>
      <ITEM LANG="E" TEXT="RawTexts to String"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="RAW" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20091118" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" PARPASSTYP="1" TYPTYPE="1" TYPE="TT_RAWTEXT"/>
      <ITEM SCONAME="STRING" VERSION="1" CMPTYPE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20091118" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" PARDECLTYP="3" TYPTYPE="1" TYPE="STRING"/>
     </PARAMETERS>
     <SOURCE>`
FIELD-SYMBOLS &lt;l&gt; LIKE LINE OF raw.
  DATA str TYPE string.

  LOOP AT raw ASSIGNING &lt;l&gt;.
    str = &lt;l&gt;.
    IF string IS INITIAL.
      string = str.
    ELSE.
      CONCATENATE string line_separator str INTO string.
    ENDIF.
  ENDLOOP.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="RESET" VERSION="1" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20091118" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" MTDDECLTYP="1">
     <TEXTS>
      <ITEM LANG="E" TEXT="Reset Bal Log"/>
     </TEXTS>
     <SOURCE>`
  DATA object	TYPE balobj_d.
  DATA subobject  TYPE balsubobj.
  DATA ext_id	TYPE balnrext.

  IF NOT log IS BOUND.    EXIT.   ENDIF.

  object = zaplink_connector=&gt;ballog_object.
  subobject	= &apos;DOCT&apos;.
*  CONCATENATE sy-uname sy-datum sy-uzeit INTO ext_id SEPARATED BY space.
*01    Create
*02    Change
*03    Display
*04    Modify (Direct Input: Create/Change)
*06    Delete
*11    Create defaults
*12    Change defaults
*13    Display defaults
  CALL METHOD log-&gt;init
    EXPORTING
      id_object      = object
      id_subobject   = subobject
      id_extnumber   = ext_id
      auto_upd_custo = abap_true
      id_activity    = zaplink_message_collector=&gt;actions-create
    EXCEPTIONS
      error          = 1
      OTHERS         = 2.
  IF sy-subrc &lt;&gt; 0.
* ignore
  ENDIF.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="SET" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="5 " AUTHOR="TBENSIAL" CREATEDON="20091118" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" MTDDECLTYP="1">
     <PARAMETERS>
      <ITEM SCONAME="T_DOCS" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20091118" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" PARPASSTYP="1" TYPTYPE="1" TYPE="TT_DOCS">
       <TEXTS>
        <ITEM LANG="E" TEXT="Documents"/>
       </TEXTS>
      </ITEM>
     </PARAMETERS>
     <SOURCE>`
  DATA _text  TYPE tt_rawtext.
  DATA _dokil TYPE dokil.
  DATA _head  TYPE thead.
  FIELD-SYMBOLS:
    &lt;o&gt; LIKE LINE OF t_docs,
    &lt;t&gt; LIKE LINE OF &lt;o&gt;-texts.

  IF t_docs IS INITIAL.
    EXIT. &quot;nothing to do
  ENDIF.

  LOOP AT t_docs ASSIGNING &lt;o&gt;.
    _dokil-id = &lt;o&gt;-id.
    _dokil-object = &lt;o&gt;-object.
    _dokil-selfdef = &lt;o&gt;-selfdef.

    CALL FUNCTION &apos;DOCU_SELFDEF_WRITE&apos;
      EXPORTING
        object_id   = _dokil-id
        object_name = _dokil-object
        selfdef     = _dokil-selfdef
      EXCEPTIONS
        not_deleted = 1
        OTHERS      = 2.
    IF sy-subrc &lt;&gt; 0.
      lmac_add_mf_and_raise &apos;DOCU_SELFDEF_WRITE&apos; sy-subrc.
    ENDIF.
    LOOP AT &lt;o&gt;-texts ASSIGNING &lt;t&gt;.
      _text = string2raw( &lt;t&gt;-_  ).
      _head = &lt;t&gt;-head.
*    head-application = lang-tdobject.
*    head-dokform = lang-tdform.
*    head-dokstyle = lang-tdstyle.
      _head-tdobject = &lt;o&gt;-application.
      _head-tdname = &lt;o&gt;-object.
      _head-tdid = &lt;o&gt;-id.
      _head-tdform = &lt;o&gt;-dokform.
      _head-tdstyle = &lt;o&gt;-dokstyle.

      IF &lt;o&gt;-selfdef IS INITIAL.
        CALL FUNCTION &apos;DOCU_UPDATE&apos;
          EXPORTING
*       ACTCLASS            = &apos; &apos;
            head                = _head
*       NO_MASTERLANG       = &apos; &apos;
            state               = &lt;t&gt;-state
            typ                 = &lt;o&gt;-typ
            version             = 0
          TABLES
            line                = _text.
      ENDIF.
    ENDLOOP.
  ENDLOOP.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="SET_SINGLE" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="6 " AUTHOR="TBENSIAL" CREATEDON="20100309" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" MTDDECLTYP="1" R3RELEASE="700">
     <PARAMETERS>
      <ITEM SCONAME="DATA" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100309" PARPASSTYP="1" TYPTYPE="1" TYPE="TS_DOC">
       <TEXTS>
        <ITEM LANG="E" TEXT="Document"/>
       </TEXTS>
      </ITEM>
     </PARAMETERS>
     <SOURCE>`
  DATA t_docs TYPE tt_docs.

  append data to t_docs.
  set( t_docs ).</SOURCE>
    </ITEM>
    <ITEM CMPNAME="STRING2RAW" VERSION="1" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20091118" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" MTDDECLTYP="1">
     <TEXTS>
      <ITEM LANG="E" TEXT="String to RawTexts"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="RAW" VERSION="1" CMPTYPE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20091118" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" PARDECLTYP="3" TYPTYPE="1" TYPE="TT_RAWTEXT"/>
      <ITEM SCONAME="STRING" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20091118" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
     </PARAMETERS>
     <SOURCE>`
SPLIT string AT LINE_SEPARATOR
        INTO TABLE raw.</SOURCE>
    </ITEM>
   </METHODS>
   <REDEFINITIONS>
    <ITEM REFCLSNAME="ZAPLINK_CONNECTOR_" VERSION="1" MTDNAME="ZAPLINK_CONNECTOR~CREATE_NEW_RAW">
     <SOURCE>`
  DATA o_doc TYPE to_doc.

  CREATE OBJECT object.
  CASE type.
    WHEN supportedtypes-general or supportedtypes-indep.
      CREATE OBJECT o_doc.
      object-&gt;raw = o_doc.
    WHEN OTHERS.
      CLEAR object.
      mac_raise_type_not_supported me-&gt;class_name type.
  ENDCASE.</SOURCE>
    </ITEM>
    <ITEM REFCLSNAME="ZAPLINK_CONNECTOR_" VERSION="1" MTDNAME="ZAPLINK_CONNECTOR~DELETE_FROM_SAP">
     <SOURCE>`
  DATA pool     TYPE rs38l-area.
  DATA type     TYPE td_comptype.
  DATA s_mask   TYPE ts_name_mask.
  DATA d_ori_modified TYPE c.
  DATA d_doc_type TYPE doku_typ.
  DATA s_dokil  TYPE dokil.
  DATA s_head   TYPE thead.

  TRY.
    type = component-&gt;get_type( ).
    CASE type.
      WHEN supportedtypes-general OR supportedtypes-indep.
        CASE type.
          WHEN supportedtypes-general. s_mask-id = &apos;TX&apos;.    s_mask-object = component-&gt;get_name( ). &quot; Issue 60
          WHEN supportedtypes-indep.   s_mask = component-&gt;get_name( ).
        ENDCASE.
* FROM MSDCUI01 : MODULE d0100_get_docuobject (583)
        CALL FUNCTION &apos;EXT_MODIFY_ORIGINAL_CHECK&apos;
          EXPORTING
            p_id                = s_mask-id
            p_object            = s_mask-object
          IMPORTING
            p_original_modified = d_ori_modified
          EXCEPTIONS
            OTHERS              = 1.
        IF d_ori_modified = abap_true.&quot;Modi. vorh.
          d_doc_type = &apos;M&apos;.
        ELSEIF s_mask-id = &apos;FU&apos; OR s_mask-id = &apos;FX&apos;.
          d_doc_type = &apos;T&apos;.
        ELSE.
          d_doc_type = &apos;E&apos;.
        ENDIF.

        SELECT SINGLE * INTO s_dokil
          FROM dokil
          WHERE id = s_mask-id
            AND object = s_mask-object
            AND typ = d_doc_type
            AND masterlang = abap_true.
        IF sy-subrc &lt;&gt; 0.
          SELECT SINGLE * INTO s_dokil
            FROM dokil
            WHERE id = s_mask-id
              AND object = s_mask-object
              AND typ = d_doc_type.
        ENDIF.

        s_head-tdid     = s_mask-id.
        s_head-tdname   = s_mask-object.
        s_head-tdspras  = s_dokil-langu.

        CALL FUNCTION &apos;ENQUEUE_ESDOC&apos;
          EXPORTING
*             MODE_DOKHL           = &apos;E&apos;
            id     = s_dokil-id
            object = s_dokil-object
            langu  = s_dokil-langu
            typ    = s_dokil-typ
*             _SCOPE               = &apos;2&apos;
*             _WAIT                = &apos; &apos;
          EXCEPTIONS
            foreign_lock         = 1
            system_failure       = 2
            OTHERS               = 3.
        IF sy-subrc &lt;&gt; 0.
          mac_add_mf_and_raise &apos;ENQUEUE_ESDOC&apos; sy-subrc.
        ENDIF.

        CALL FUNCTION &apos;DOCU_DELETE&apos;
          EXPORTING
*             ACTCLASS              = &apos; &apos;
*             DELETE_RAW_ONLY       = &apos; &apos;
            head                  = s_head
            typ                   = d_doc_type
            version               = s_dokil-version.
*        IF sy-subrc &lt;&gt; 0.
*          mac_add_mf_and_raise &apos;DOCU_DELETE&apos; sy-subrc.
*        ENDIF.
        CALL FUNCTION &apos;DEQUEUE_ESDOC&apos;
         EXPORTING
*             MODE_DOKHL         = &apos;E&apos;
*             _SCOPE             = &apos;3&apos;
            id     = s_dokil-id
            object = s_dokil-object
            langu  = s_dokil-langu
            typ    = s_dokil-typ.

        SELECT SINGLE * INTO s_dokil
          FROM dokil
          WHERE id = s_mask-id
            AND object = s_mask-object
            AND typ = d_doc_type.
        IF sy-subrc &lt;&gt; 0.   result = abap_true.   ENDIF.

      WHEN OTHERS.
        mac_raise_type_not_supported me-&gt;class_name type.
    ENDCASE.

    mac_def_catch zaplink_cx_connector.
  ENDTRY.</SOURCE>
    </ITEM>
    <ITEM REFCLSNAME="ZAPLINK_CONNECTOR_" VERSION="1" MTDNAME="ZAPLINK_CONNECTOR~DO_EXISTS">
     <SOURCE>`
  DATA type     TYPE td_comptype.
  DATA s_mask   TYPE ts_name_mask.
  DATA d_name   TYPE td_compname.

  exists = me-&gt;exists-not_exists.

  TRY.
    type = component-&gt;get_type( ).
    CASE type.
      WHEN supportedtypes-general OR supportedtypes-indep..
        d_name = component-&gt;get_name( ).
        s_mask = name_2_mask( type = type    name = d_name ).
        SELECT SINGLE id INTO s_mask-id
          FROM dokil
          WHERE     id = s_mask-id
            AND object = s_mask-object.
        IF sy-subrc = 0.    exists = me-&gt;exists-exists.   ENDIF.
*          CALL FUNCTION &apos;DOCU_INIT&apos;
*            EXPORTING
*              id            = s_mask-id
*              langu         =
*              object        = s_mask-object
*              typ           =
*            IMPORTING
**             FOUND         =
*              XDOKIL        = s_dokil.
*          IF not s_dokil is INITIAL.    exists = me-&gt;exists-exists.   ENDIF.
      WHEN OTHERS.
        mac_raise_type_not_supported me-&gt;class_name type.
    ENDCASE.

    mac_def_catch zaplink_cx_connector.
  ENDTRY.</SOURCE>
    </ITEM>
    <ITEM REFCLSNAME="ZAPLINK_CONNECTOR_" VERSION="1" MTDNAME="ZAPLINK_CONNECTOR~IS_SUPPORTED_VERSION">
     <SOURCE>`
  result = abap_false.
  if version = _ver.    result = abap_true.   endif.</SOURCE>
    </ITEM>
    <ITEM REFCLSNAME="ZAPLINK_CONNECTOR_" VERSION="1" MTDNAME="ZAPLINK_CONNECTOR~READ_FROM_SAP">
     <SOURCE>`
  DATA o_data   TYPE to_doc.
  DATA d_name   TYPE td_compname.
  DATA type     TYPE td_comptype.
  DATA s_mask   TYPE ts_name_mask.
  DATA s_doc    TYPE ts_doc.

  TRY.
    type = component-&gt;get_type( ).
    CREATE OBJECT object.
    object-&gt;set_component( component ).
    CASE type.
      WHEN supportedtypes-general OR supportedtypes-indep.
        d_name = component-&gt;get_name( ).
        s_mask = name_2_mask( type = type    name = d_name ).
        s_doc = get_single( ids = s_mask-id
                         object = s_mask-object ).

        CREATE OBJECT o_data.
        o_data-&gt;from_data( s_doc ).
        CLEAR: o_data-&gt;a0_maindata-id, o_data-&gt;a0_maindata-object.
        object-&gt;raw = o_data.
      WHEN OTHERS.
        CLEAR object.
        mac_raise_type_not_supported me-&gt;class_name type.
    ENDCASE.
    object-&gt;update_connector_data( me ).                    &quot; Issue 66
    mac_def_catch zaplink_cx_connector.
  ENDTRY.</SOURCE>
    </ITEM>
    <ITEM REFCLSNAME="ZAPLINK_CONNECTOR_" VERSION="1" MTDNAME="ZAPLINK_CONNECTOR~WRITE_TO_SAP">
     <SOURCE>`
  DATA o_data   TYPE to_doc.
  DATA o_comp   TYPE to_component.
  DATA s_mask   TYPE ts_name_mask.
  DATA s_doc    TYPE ts_doc.

  TRY.

      CREATE OBJECT components.                         &quot; Issue 92
      CASE object-&gt;type.
        WHEN supportedtypes-general OR supportedtypes-indep.
          o_data ?= object-&gt;raw.
          CASE object-&gt;type.
            WHEN supportedtypes-general. s_mask-id = &apos;TX&apos;.    s_mask-object = object-&gt;name.
            WHEN supportedtypes-indep.   s_mask = object-&gt;name.
          ENDCASE.
          o_data-&gt;a0_maindata-id = s_mask-id.   o_data-&gt;a0_maindata-object = s_mask-object.
          s_doc = o_data-&gt;to_data( ).
          set_single( s_doc ).
          CREATE OBJECT o_comp.
          o_comp-&gt;set_type( object-&gt;type ).   o_comp-&gt;set_name( object-&gt;name ).
          CREATE OBJECT components.
          components-&gt;add( o_comp ).
        WHEN OTHERS.
          mac_raise_type_not_supported me-&gt;class_name object-&gt;type.
      ENDCASE.

      o_comp = object-&gt;get_component( abap_true ).          &quot; Issue 92
      TRY.  components-&gt;add( o_comp ).  CATCH zaplink_cx_list.  ENDTRY.                                               &quot; Issue 92
    CATCH zaplink_cx_connector INTO o_mycx.
      ROLLBACK WORK.
      RAISE EXCEPTION o_mycx.
    CATCH zaplink_cx INTO o_cx.
      ROLLBACK WORK.
      mac_cascade_raise o_mycx o_cx.
  ENDTRY.</SOURCE>
    </ITEM>
   </REDEFINITIONS>
   <TYPEGROUPS>
    <ITEM TYPEGROUP="ABAP" VERSION="1" IMPLICIT="X"/>
   </TYPEGROUPS>
   <TYPES>
    <ITEM CMPNAME="TO_DOC" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100309" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" TYPTYPE="3" TYPE="ZAPLINK_DOCV_DATA">
     <TEXTS>
      <ITEM LANG="E" TEXT="Data for documentation"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TO_LOG" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100127" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" TYPTYPE="3" TYPE="ZAPLINK_MESSAGE_COLLECTOR">
     <TEXTS>
      <ITEM LANG="E" TEXT="Message Collector"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TS_NAME_MASK" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100309" CHANGEDBY="TBENSIAL" CHANGEDON="20100309" TYPTYPE="4" R3RELEASE="700">BEGIN OF ts_name_mask,
      ID 	    TYPE DOKIL-ID,
      OBJECT  TYPE DOKIL-OBJECT,
    END OF ts_name_mask
`</ITEM>
   </TYPES>
  </RAW>
 </ZL_OBJECT>
 <ZL_OBJECT CHECKSUM="BBE390E92E83DE90B81BAF8D8DDD436B" CODE_SIGNATURE="05D0D6A564C4900F93AEF0CF2BF171C9" CONNECTOR="39AC0A4B07A5A05AE1000000AC120173" NAME="ZAPLINK_DOCV_DATA" TYPE="CLAS" VERSION="1.01">
  <DIRECTORY SRCSYSTEM="OD4" AUTHOR="TBENSIAL" DEVCLASS="ZAPLINK-CONNECTORS-MAIN" MASTERLANG="E"/>
  <RAW>
   <A0_MAINDATA VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100309" CLSCCINCL="X" FIXPT="X" UNICODE="X" R3RELEASE="700">
    <INHERITANCE REFCLSNAME="ZAPLINK_RAW_DATA" VERSION="1" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100309"/>
    <TEXTS>
     <ITEM LANG="E" TEXT="Documentation Datas">U1&amp;FUNCTIONALITY&amp;
ASIs part of connector : ZAPLINK_DOCUMENTATION
ASDefine XML structure of a independent documentation &amp; general text
U1&amp;RELATIONS&amp;
AS
U1&amp;EXAMPLE&amp;
AS
U1&amp;HINTS&amp;
AS
U1&amp;FURTHER_SOURCES_OF_INF&amp;
AS
U1Memories
ASThis application is dedicated to the memories of :
B2My father : Lamri BENSIALI (1940-2004) without whom I never started
  programming
B2My uncle : Jacky BEDU (1934-2009) who died during the completion of this
  application</ITEM>
    </TEXTS>
   </A0_MAINDATA>
   <ALIASES>
    <ITEM CMPNAME="TS_DOC" VERSION="1" EXPOSURE="1" CMPTYPE="3" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="TS_DOC"/>
    <ITEM CMPNAME="TS_HEAD" VERSION="1" EXPOSURE="2" CMPTYPE="3" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="TS_HEAD"/>
   </ALIASES>
   <ATTRIBUTS>
    <ITEM CMPNAME="A0_MAINDATA" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100309" TYPTYPE="1" TYPE="TS_HEAD" R3RELEASE="700"/>
    <ITEM CMPNAME="TEXTS" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100309" TYPTYPE="1" TYPE="TT_TEXTS" R3RELEASE="700"/>
   </ATTRIBUTS>
   <FRIENDS>
    <ITEM REFCLSNAME="ZAPLINK_DOCUMENTATION" VERSION="1" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100309"/>
   </FRIENDS>
   <INTERFACES>
    <ITEM REFCLSNAME="ZAPLINK_DATATYPES" VERSION="1" EXPOSURE="2" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100309" RELTYPE="1"/>
   </INTERFACES>
   <LOCAL>
    <TYPES>`
*&quot;* USE THIS SOURCE FILE FOR ANY TYPE DECLARATIONS (CLASS
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* IMPLEMENTATION OR PRIVATE METHOD&apos;S SIGNATURE</TYPES>
    <IMPLEMENTATIONS>`
*&quot;* LOCAL CLASS IMPLEMENTATION FOR PUBLIC CLASS
*&quot;* use this source file for the implementation part of
*&quot;* LOCAL HELPER CLASSES</IMPLEMENTATIONS>
    <MACROS>`
*&quot;* USE THIS SOURCE FILE FOR ANY MACRO DEFINITIONS YOU NEED
*&quot;* IN THE IMPLEMENTATION PART OF THE CLASS</MACROS>
   </LOCAL>
   <METHODS>
    <ITEM CMPNAME="FROM_DATA" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100309" R3RELEASE="700">
     <PARAMETERS>
      <ITEM SCONAME="FM_DATA" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100309" PARPASSTYP="1" TYPTYPE="1" TYPE="TS_DOC"/>
     </PARAMETERS>
     <SOURCE>`
  DATA s_text LIKE LINE OF texts.
  FIELD-SYMBOLS:
    &lt;t&gt; LIKE LINE OF fm_data-texts.

  a0_maindata = fm_data-hdr.    a0_maindata-masterlang = a0_maindata-langu.   CLEAR a0_maindata-langu.
  LOOP AT fm_data-texts ASSIGNING &lt;t&gt;.
    CLEAR s_text.   s_text-langu = &lt;t&gt;-tdspras.   s_text-_ = &lt;t&gt;-_.   INSERT s_text INTO TABLE texts.
  ENDLOOP.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="TO_DATA" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100309" R3RELEASE="700">
     <PARAMETERS>
      <ITEM SCONAME="FM_DATA" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100309" PARDECLTYP="3" TYPTYPE="1" TYPE="TS_DOC"/>
     </PARAMETERS>
     <SOURCE>`
  DATA s_text LIKE LINE OF fm_data-texts.
  FIELD-SYMBOLS:
    &lt;t&gt; LIKE LINE OF texts.

  fm_data-hdr = a0_maindata.    fm_data-hdr-langu = a0_maindata-masterlang. fm_data-hdr-masterlang = abap_true.
  LOOP AT texts ASSIGNING &lt;t&gt;.
    CLEAR s_text.   s_text-tdspras = &lt;t&gt;-langu.   s_text-_ = &lt;t&gt;-_.   INSERT s_text INTO TABLE fm_data-texts.
  ENDLOOP.</SOURCE>
    </ITEM>
   </METHODS>
   <TYPES>
    <ITEM CMPNAME="TS_TEXT" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100309" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4" R3RELEASE="700">begin of ts_text,
        Langu type sy-langu,
        _     type string,      &quot; Text
      end of ts_text
`</ITEM>
    <ITEM CMPNAME="TT_RAWTEXT" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20100309" TYPTYPE="4" R3RELEASE="700">tt_rawtext TYPE STANDARD TABLE OF tline WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_TEXT" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100309" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4" R3RELEASE="700">
     tt_text TYPE STANDARD TABLE OF tline WITH DEFAULT KEY
`
     <TEXTS>
      <ITEM LANG="E" TEXT="Table of TLINE"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TT_TEXTS" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100309" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4" R3RELEASE="700">tt_texts type SORTED TABLE OF ts_text with UNIQUE key langu
`</ITEM>
   </TYPES>
  </RAW>
 </ZL_OBJECT>
 <ZL_OBJECT CHECKSUM="CBED250F72DFA18631669BA20ED4D7D2" CODE_SIGNATURE="638FE8669B01E982983BEC8B9D2BF521" CONNECTOR="39AC0A4B07A5A05AE1000000AC120173" NAME="ZAPLINK_FUGR_DATA" TYPE="CLAS" VERSION="1.01">
  <DIRECTORY SRCSYSTEM="OD4" AUTHOR="TBENSIAL" DEVCLASS="ZAPLINK-CONNECTORS-MAIN" MASTERLANG="E"/>
  <RAW>
   <A0_MAINDATA VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100304" CLSCCINCL="X" FIXPT="X" UNICODE="X" R3RELEASE="700">
    <INHERITANCE REFCLSNAME="ZAPLINK_RAW_DATA" VERSION="1" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100304"/>
    <TEXTS>
     <ITEM LANG="E" TEXT="Commun Data for Class &amp; Interface">U1&amp;FUNCTIONALITY&amp;
ASIs part of connector : ZAPLINK_FUNCTION_GROUP
ASDefine XML structure of a Function group
U1&amp;RELATIONS&amp;
AS
U1&amp;EXAMPLE&amp;
AS
U1&amp;HINTS&amp;
AS
U1&amp;FURTHER_SOURCES_OF_INF&amp;
AS
U1Memories
ASThis application is dedicated to the memories of :
B2My father : Lamri BENSIALI (1940-2004) without whom I never started
  programming
B2My uncle : Jacky BEDU (1934-2009) who died during the completion of this
  application</ITEM>
    </TEXTS>
   </A0_MAINDATA>
   <ALIASES>
    <ITEM CMPNAME="LINE_SEPARATOR" VERSION="1" EXPOSURE="2" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="LINE_SEPARATOR"/>
    <ITEM CMPNAME="TD_ABAPSOURCE" VERSION="1" EXPOSURE="2" CMPTYPE="3" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="TD_ABAPSOURCE"/>
    <ITEM CMPNAME="TD_DOC_ID" VERSION="1" EXPOSURE="1" CMPTYPE="3" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="TD_DOC_ID"/>
    <ITEM CMPNAME="TR_DOCID" VERSION="1" EXPOSURE="1" CMPTYPE="3" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="TR_DOCID"/>
    <ITEM CMPNAME="TT_ABAPRAWSOURCE" VERSION="1" EXPOSURE="2" CMPTYPE="3" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="TT_ABAPRAWSOURCE"/>
    <ITEM CMPNAME="TT_DOCS" VERSION="1" EXPOSURE="2" CMPTYPE="3" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="TT_DOCS"/>
    <ITEM CMPNAME="TT_DYNPROS" VERSION="1" EXPOSURE="2" CMPTYPE="3" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="TT_DYNPROS"/>
    <ITEM CMPNAME="TT_TEXTS" VERSION="1" EXPOSURE="2" CMPTYPE="3" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="TT_TEXTS"/>
    <ITEM CMPNAME="TT_TXTP_TEXTPOOLS" VERSION="1" EXPOSURE="2" CMPTYPE="3" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="TT_TXTP_TEXTPOOLS"/>
   </ALIASES>
   <ATTRIBUTS>
    <ITEM CMPNAME="A0_MAINDATA" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="1" TYPE="TS_MAINDATA">
     <TEXTS>
      <ITEM LANG="E" TEXT="Program main data"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="DOC_IDS" VERSION="1" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100308" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" ATTDECLTYP="2" TYPTYPE="4">BEGIN OF DOC_IDS,
      group     TYPE td_doc_id VALUE &apos;RE&apos;,    &quot; Report
      function  TYPE td_doc_id VALUE &apos;FU&apos;,
    END OF DOC_IDS
`</ITEM>
    <ITEM CMPNAME="DYNPROS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="5 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="1" TYPE="TT_DYNPROS"/>
    <ITEM CMPNAME="FUNCTIONS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="7 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="1" TYPE="TT_FUNCTIONS"/>
    <ITEM CMPNAME="INCLUDES" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="8 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="1" TYPE="TT_INCLUDES"/>
    <ITEM CMPNAME="MARKUPS" VERSION="1" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100308" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" ATTDECLTYP="2" TYPTYPE="4">
     BEGIN OF markups,
      area TYPE string VALUE &apos;[FUNCTIONGROUP NAME]&apos;,
    END OF markups
`
     <TEXTS>
      <ITEM LANG="E" TEXT="Markups for replacements"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="MENUPAINTER" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="6 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="1" TYPE="TO_MENUPAINTER">
     <TEXTS>
      <ITEM LANG="E" TEXT="Menu painter Data"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="PARAMETER_KINDS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" ATTDECLTYP="2" TYPTYPE="4">BEGIN OF parameter_kinds,
      importing   TYPE td_paramkind VALUE &apos;I&apos;,
      changing    TYPE td_paramkind VALUE &apos;C&apos;,
      exporting   TYPE td_paramkind VALUE &apos;E&apos;,
      table       TYPE td_paramkind VALUE &apos;T&apos;,
*      exceptions  type td_paramkind value &apos;X&apos;,
    END OF parameter_kinds
`</ITEM>
    <ITEM CMPNAME="R_DOC_IDS" VERSION="1" STATE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20100308" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" ATTDECLTYP="1" TYPTYPE="4">
     BEGIN OF R_DOC_IDS,
      group    TYPE TR_DOCID,
      function TYPE TR_DOCID,
    END OF R_DOC_IDS
`
     <TEXTS>
      <ITEM LANG="E" TEXT="Documentation Object"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="SOURCE" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="1" TYPE="TS_SOURCE">
     <TEXTS>
      <ITEM LANG="E" TEXT="ABAP Source code"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="SUFFIXES" VERSION="1" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100308" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" ATTDECLTYP="2" TYPTYPE="4">
     BEGIN OF suffixes,
      top TYPE rs38l-suffix VALUE &apos;TOP&apos;,
    END OF suffixes
`
     <TEXTS>
      <ITEM LANG="E" TEXT="Special suffixes"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TEXTSPOOL" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="1" TYPE="TT_TXTP_TEXTPOOLS">
     <TEXTS>
      <ITEM LANG="E" TEXT="Textpool table"/>
     </TEXTS>
    </ITEM>
   </ATTRIBUTS>
   <FRIENDS>
    <ITEM REFCLSNAME="ZAPLINK_EASYXML" VERSION="1" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100304"/>
    <ITEM REFCLSNAME="ZAPLINK_FUNCTION_GROUP" VERSION="1" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100304"/>
   </FRIENDS>
   <INTERFACES>
    <ITEM REFCLSNAME="ZAPLINK_DATATYPES" VERSION="1" EXPOSURE="2" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100304" RELTYPE="1"/>
   </INTERFACES>
   <LOCAL>
    <TYPES>`
*&quot;* USE THIS SOURCE FILE FOR ANY TYPE DECLARATIONS (CLASS
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</TYPES>
    <IMPLEMENTATIONS>`
*&quot;* LOCAL CLASS IMPLEMENTATION FOR PUBLIC CLASS
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</IMPLEMENTATIONS>
    <MACROS>`
*&quot;* USE THIS SOURCE FILE FOR ANY MACRO DEFINITIONS YOU NEED
*&quot;* in the implementation part of the class</MACROS>
   </LOCAL>
   <METHODS>
    <ITEM CMPNAME="ANONYMIZE" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623">
     <TEXTS>
      <ITEM LANG="E" TEXT="Anonymized component data"/>
     </TEXTS>
     <SOURCE>`
  IF menupainter IS BOUND.    menupainter-&gt;anonymize( ).    ENDIF.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="CLASS_CONSTRUCTOR" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100304" MTDTYPE="2" MTDDECLTYP="1">
     <TEXTS>
      <ITEM LANG="E" TEXT="CLASS_CONSTRUCTOR"/>
     </TEXTS>
     <SOURCE>`
*&apos;FU&apos;
*table TDCLT
*DOKCLASS DOKTITEL
*FU       Function
*RE       Report/Function Group, Logical DB                            Program/module pool
  DATA _id LIKE LINE OF r_doc_ids-group.

  _id-sign = &apos;I&apos;.
  _id-option = &apos;EQ&apos;.
  _id-low = doc_ids-group.      APPEND _id TO r_doc_ids-group.
  _id-low = doc_ids-function.   APPEND _id TO r_doc_ids-function.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="CONV_FUNCTION" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="5 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" MTDDECLTYP="1">
     <TEXTS>
      <ITEM LANG="E" TEXT="Convert data to data for function"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="FM_DATA" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" PARPASSTYP="1" TYPTYPE="1" TYPE="TS_FM_DATA">
       <TEXTS>
        <ITEM LANG="E" TEXT="Function Module Data"/>
       </TEXTS>
      </ITEM>
      <ITEM SCONAME="RESULT" VERSION="1" CMPTYPE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" PARDECLTYP="3" TYPTYPE="1" TYPE="TT_FM_DATA">
       <TEXTS>
        <ITEM LANG="E" TEXT="Function Module Data"/>
       </TEXTS>
      </ITEM>
     </PARAMETERS>
     <SOURCE>`
  DATA s_func LIKE LINE OF result.
  FIELD-SYMBOLS &lt;f&gt; LIKE LINE OF fm_data-functions.
  LOOP AT fm_data-functions ASSIGNING &lt;f&gt;.
    CLEAR s_func.   MOVE-CORRESPONDING &lt;f&gt; TO s_func. &quot; header, import_p, changing_p, export_p, tables, exceptions, source.
    s_func-docs = fm_data-docs.
    s_func-texts = fm_data-function_texts.    DELETE s_func-texts WHERE funcname &lt;&gt; &lt;f&gt;-header-name.
    s_func-param_texts = fm_data-param_texts.    DELETE s_func-param_texts WHERE funcname &lt;&gt; &lt;f&gt;-header-name.
    APPEND s_func TO result.
  ENDLOOP.
  SORT result BY header-name.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="FROM_DATA" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623">
     <TEXTS>
      <ITEM LANG="E" TEXT="Convert FM Data to object attributes"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="FM_DATA" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" PARPASSTYP="1" TYPTYPE="1" TYPE="TS_FM_DATA">
       <TEXTS>
        <ITEM LANG="E" TEXT="Function Modules object Data"/>
       </TEXTS>
      </ITEM>
     </PARAMETERS>
     <SOURCE>`
  DATA s_func    LIKE LINE OF functions.
  DATA s_txt     LIKE LINE OF a0_maindata-texts.
*  DATA s_f_txt   LIKE LINE OF s_func-texts.
*  DATA s_param   LIKE LINE OF s_func-parameters.
*  DATA s_excep   LIKE LINE OF s_func-exceptions.
  DATA d_suffix  TYPE rs38l-suffix.
  DATA d_group   TYPE rs38l-area.
  DATA s_inc     LIKE LINE OF includes.
  DATA t_abapsrc TYPE tt_abaprawsource.
  DATA d_search  TYPE string.
  DATA d_replace TYPE string.
  DATA d_lcount  TYPE i.
  DATA d_doc     TYPE doku_obj.
  DATA d_doc_p   TYPE ts_doc_param.
  DATA t_docs    TYPE tt_docs.
  DATA t_funcs TYPE tt_fm_data.
  FIELD-SYMBOLS:
    &lt;d&gt;  LIKE LINE OF fm_data-docs,
    &lt;dt&gt; LIKE LINE OF &lt;d&gt;-texts,
    &lt;t&gt;  LIKE LINE OF fm_data-texts,
    &lt;ft&gt; LIKE LINE OF fm_data-function_texts,
    &lt;f&gt;  LIKE LINE OF t_funcs,
    &lt;i&gt;  LIKE LINE OF fm_data-includes,
    &lt;s&gt;  LIKE LINE OF &lt;i&gt;-source,
    &lt;im&gt; LIKE LINE OF &lt;f&gt;-import_p,
    &lt;ch&gt; LIKE LINE OF &lt;f&gt;-changing_p,
    &lt;ex&gt; LIKE LINE OF &lt;f&gt;-export_p,
*    &lt;pa&gt; LIKE LINE OF s_func-parameters,
    &lt;pt&gt; LIKE LINE OF fm_data-param_texts,
    &lt;cx&gt; LIKE LINE OF &lt;f&gt;-exceptions,
    &lt;ta&gt; LIKE LINE OF &lt;f&gt;-tables.

  a0_maindata-hdr = fm_data-header.
  textspool = fm_data-textspool.
  dynpros = fm_data-dynpros.
  menupainter = fm_data-menupainter.

  d_doc = zaplink_function_group=&gt;get_mainprogram( fm_data-header-area ).
  t_docs = fm_data-docs.
  READ TABLE t_docs ASSIGNING &lt;d&gt;
       WITH KEY id = doc_ids-group
            object = d_doc.
  LOOP AT fm_data-texts ASSIGNING &lt;t&gt;.
    CLEAR s_txt.    s_txt-langu = &lt;t&gt;-spras.   s_txt-short_txt = &lt;t&gt;-areat.
    IF &lt;d&gt; IS ASSIGNED.
      READ TABLE &lt;d&gt;-texts ASSIGNING &lt;dt&gt;
          WITH KEY tdspras = s_txt-langu.
      IF sy-subrc = 0.    s_txt-long_txt = &lt;dt&gt;.   CLEAR s_txt-long_txt-tdspras.    DELETE TABLE &lt;d&gt;-texts FROM &lt;dt&gt;.    ENDIF.
    ENDIF.
    INSERT s_txt INTO TABLE a0_maindata-texts.
  ENDLOOP.
  IF &lt;d&gt; IS ASSIGNED.
    LOOP AT &lt;d&gt;-texts ASSIGNING &lt;dt&gt;.
      CLEAR s_txt.    s_txt-langu = &lt;dt&gt;-tdspras.   s_txt-long_txt = &lt;dt&gt;.   CLEAR s_txt-long_txt-tdspras.    INSERT s_txt INTO TABLE a0_maindata-texts.
    ENDLOOP.
  ENDIF.

  LOOP AT fm_data-includes ASSIGNING &lt;i&gt;.
    CLEAR s_inc.    s_inc-name = &lt;i&gt;-name.            t_abapsrc = &lt;i&gt;-source.
    CALL FUNCTION &apos;FUNCTION_INCLUDE_SPLIT&apos;
*     EXPORTING
*       PROGRAM                            =
*       SUPPRESS_SELECT                    = &apos;X&apos;
*       COMPLETE_AREA                      = &apos; &apos;
      IMPORTING
*       NAMESPACE                          =
*       FUNCTION_NOT_EXISTS                =
        group                              = d_group
*       FUNCNAME                           =
*       INCLUDE_NUMBER                     =
*       NO_FUNCTION_INCLUDE                =
*       NO_FUNCTION_MODULE                 =
        suffix                             = d_suffix
*       RESERVED_NAME                      =
*       TOO_MANY_DELIMITERS                =
*       RESERVED_FOR_EXITS                 =
*       HIDDEN_NAME                        =
      CHANGING
        include                            = s_inc-name
      EXCEPTIONS
        include_not_exists                 = 1
        group_not_exists                   = 2
        no_selections                      = 3
        no_function_include                = 4
        no_function_pool                   = 5
        delimiter_wrong_position           = 6
        no_customer_function_group         = 7
        no_customer_function_include       = 8
        reserved_name_customer             = 9
        namespace_too_long                 = 10
        area_length_error                  = 11
        OTHERS                             = 12.
    IF sy-subrc = 0 AND d_group = a0_maindata-area.
      s_inc-name = d_suffix.
      IF s_inc-name = suffixes-top AND NOT &lt;i&gt;-source IS INITIAL.
*FUNCTION-POOL SVIM MESSAGE-ID SV.
        READ TABLE t_abapsrc ASSIGNING &lt;s&gt; INDEX 1.
        TRANSLATE &lt;s&gt; TO UPPER CASE.                      &quot;#EC SYNTCHAR
        IF &lt;s&gt; CP &apos;FUNCTION-POOL *&apos;.
          CONCATENATE space a0_maindata-area space INTO d_search.   TRANSLATE d_search TO UPPER CASE.
          CONCATENATE space markups-area space INTO d_replace.
          REPLACE FIRST OCCURRENCE OF d_search IN &lt;s&gt; WITH d_replace.
        ENDIF.
      ENDIF.
    ENDIF.
    s_inc-source-_ = zaplink_function_group=&gt;conv_abap_raw2source( t_abapsrc ).
    INSERT s_inc INTO TABLE includes.
  ENDLOOP.

* Functions
  t_funcs = conv_function( fm_data ).
  LOOP AT t_funcs ASSIGNING &lt;f&gt;.
    CLEAR s_func.
    CREATE OBJECT s_func-zl_object EXPORTING fm_data = &lt;f&gt;.
    APPEND s_func TO functions.
  ENDLOOP.

*  LOOP AT fm_data-functions ASSIGNING &lt;f&gt;.
*    CLEAR s_func.   MOVE-CORRESPONDING &lt;f&gt;-header TO s_func.
** Source code : remove FUNCTION XXX &amp; ENDFUNCTION.
*    IF NOT &lt;f&gt;-source IS INITIAL.
*      t_abapsrc = &lt;f&gt;-source.
*      READ TABLE t_abapsrc ASSIGNING &lt;s&gt; INDEX 1.
*      TRANSLATE &lt;s&gt; TO UPPER CASE.                        &quot;#EC SYNTCHAR
*      IF &lt;s&gt; CP &apos;FUNCTION *.&apos;.    DELETE t_abapsrc INDEX 1.   ENDIF.
*      d_lcount = LINES( t_abapsrc ).
*      READ TABLE t_abapsrc ASSIGNING &lt;s&gt; INDEX d_lcount.
*      TRANSLATE &lt;s&gt; TO UPPER CASE.                        &quot;#EC SYNTCHAR
*      IF &lt;s&gt; CP &apos;ENDFUNCTION*.&apos;.    DELETE t_abapsrc INDEX d_lcount.   ENDIF.
*      s_func-source-_ = zaplink_function_group=&gt;conv_abap_raw2source( t_abapsrc ).
*    ENDIF.
*
*    UNASSIGN &lt;d&gt;.
*    READ TABLE t_docs ASSIGNING &lt;d&gt;
*         WITH KEY id = doc_ids-function
*              object = s_func-name.
*    LOOP AT fm_data-function_texts ASSIGNING &lt;ft&gt;
*            WHERE funcname = s_func-name.
*      CLEAR s_f_txt.    s_f_txt-langu = &lt;ft&gt;-spras.   s_f_txt-short_txt = &lt;ft&gt;-stext.
*      IF &lt;d&gt; IS ASSIGNED.
*        READ TABLE &lt;d&gt;-texts ASSIGNING &lt;dt&gt;
*            WITH KEY tdspras = s_f_txt-langu.
*        IF sy-subrc = 0.    s_f_txt-long_txt = &lt;dt&gt;.   CLEAR s_f_txt-long_txt-tdspras.    DELETE TABLE &lt;d&gt;-texts FROM &lt;dt&gt;.   ENDIF.
*      ENDIF.
*      INSERT s_f_txt INTO TABLE s_func-texts.
*    ENDLOOP.
*    IF &lt;d&gt; IS ASSIGNED.
*      LOOP AT &lt;d&gt;-texts ASSIGNING &lt;dt&gt;.
*        CLEAR s_f_txt.    s_f_txt-langu = &lt;dt&gt;-tdspras.   s_f_txt-long_txt = &lt;dt&gt;.   CLEAR s_f_txt-long_txt-tdspras.    INSERT s_f_txt INTO TABLE s_func-texts.
*      ENDLOOP.
*    ENDIF.
*
*    LOOP AT &lt;f&gt;-import_p ASSIGNING &lt;im&gt;.
*      CLEAR s_param.    s_param-hdr = &lt;im&gt;.    s_param-kind = parameter_kinds-importing.   INSERT s_param INTO TABLE s_func-parameters.
*    ENDLOOP.
*    LOOP AT &lt;f&gt;-changing_p ASSIGNING &lt;ch&gt;.
*      CLEAR s_param.    s_param-hdr = &lt;ch&gt;.    s_param-kind = parameter_kinds-changing.   INSERT s_param INTO TABLE s_func-parameters.
*    ENDLOOP.
*    LOOP AT &lt;f&gt;-export_p ASSIGNING &lt;ex&gt;.
*      CLEAR s_param.    MOVE-CORRESPONDING &lt;ex&gt; TO s_param-hdr.    s_param-kind = parameter_kinds-exporting.   INSERT s_param INTO TABLE s_func-parameters.
*    ENDLOOP.
*    LOOP AT &lt;f&gt;-tables ASSIGNING &lt;ta&gt;.
*      CLEAR s_param.    MOVE-CORRESPONDING &lt;ta&gt; TO s_param-hdr.    s_param-dbfield = &lt;ta&gt;-dbstruct.   s_param-kind = parameter_kinds-table.   INSERT s_param INTO TABLE s_func-parameters.
*    ENDLOOP.
*    d_doc_p-func = s_func-name.
*    LOOP AT s_func-parameters ASSIGNING &lt;pa&gt;.
*      d_doc_p-param = &lt;pa&gt;-parameter.   UNASSIGN &lt;d&gt;.
*      READ TABLE t_docs ASSIGNING &lt;d&gt;
*           WITH KEY id = doc_ids-function
*                object = d_doc_p.
*      LOOP AT fm_data-param_texts ASSIGNING &lt;pt&gt;
*           WHERE funcname = s_func-name
*             AND parameter = &lt;pa&gt;-parameter
*             AND kind = &apos;P&apos;.
*        CLEAR s_f_txt.    s_f_txt-langu = &lt;pt&gt;-spras.   s_f_txt-short_txt = &lt;pt&gt;-stext.
*        IF &lt;d&gt; IS ASSIGNED.
*          READ TABLE &lt;d&gt;-texts ASSIGNING &lt;dt&gt;
*              WITH KEY tdspras = s_f_txt-langu.
*          IF sy-subrc = 0.    s_f_txt-long_txt = &lt;dt&gt;.   CLEAR s_f_txt-long_txt-tdspras.    DELETE TABLE &lt;d&gt;-texts FROM &lt;dt&gt;.   ENDIF.
*        ENDIF.
*        INSERT s_f_txt INTO TABLE &lt;pa&gt;-texts.
*      ENDLOOP.
*      IF &lt;d&gt; IS ASSIGNED.
*        LOOP AT &lt;d&gt;-texts ASSIGNING &lt;dt&gt;.
*          CLEAR s_f_txt.    s_f_txt-langu = &lt;dt&gt;-tdspras.   s_f_txt-long_txt = &lt;dt&gt;.   CLEAR s_f_txt-long_txt-tdspras.    INSERT s_f_txt INTO TABLE &lt;pa&gt;-texts.
*        ENDLOOP.
*      ENDIF.
*    ENDLOOP.
*
*    LOOP AT &lt;f&gt;-exceptions ASSIGNING &lt;cx&gt;.
*      CLEAR s_excep.    s_excep-hdr = &lt;cx&gt;.
*      LOOP AT fm_data-param_texts ASSIGNING &lt;pt&gt;
*           WHERE funcname = s_func-name
*             AND parameter = &lt;cx&gt;-exception
*             AND kind = &apos;X&apos;.
*        CLEAR s_f_txt.    s_f_txt-langu = &lt;pt&gt;-spras.   s_f_txt-short_txt = &lt;pt&gt;-stext.    INSERT s_f_txt INTO TABLE s_excep-texts.
*      ENDLOOP.
*      INSERT s_excep INTO TABLE s_func-exceptions.
*    ENDLOOP.
*
*    INSERT s_func INTO TABLE functions.
*  ENDLOOP.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="TO_DATA" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623">
     <TEXTS>
      <ITEM LANG="E" TEXT="Convert object attributes to FM Data"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="FM_DATA" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" PARDECLTYP="3" TYPTYPE="1" TYPE="TS_FM_DATA">
       <TEXTS>
        <ITEM LANG="E" TEXT="Function Modules object Data"/>
       </TEXTS>
      </ITEM>
     </PARAMETERS>
     <SOURCE>`
  DATA s_func    LIKE LINE OF fm_data-functions.
  DATA s_line    LIKE LINE OF s_func-source.
  DATA s_txt     LIKE LINE OF fm_data-texts.
  DATA s_f_txt   LIKE LINE OF fm_data-function_texts.
  DATA s_p_im    LIKE LINE OF s_func-import_p.
  DATA s_p_ch    LIKE LINE OF s_func-changing_p.
  DATA s_p_ex    LIKE LINE OF s_func-export_p.
  DATA s_p_ta    LIKE LINE OF s_func-tables.
  DATA s_p_txt   LIKE LINE OF fm_data-param_texts.
  DATA s_excep   LIKE LINE OF s_func-exceptions.
  DATA d_suffix  TYPE rs38l-suffix.
  DATA d_group   TYPE rs38l-area.
  DATA s_inc     LIKE LINE OF fm_data-includes.
  DATA d_search  TYPE string.
  DATA d_replace TYPE string.
  DATA d_lcount  TYPE i.
  DATA s_doc     LIKE LINE OF fm_data-docs.
  DATA s_doc_txt LIKE LINE OF s_doc-texts.
  DATA d_doc_p   TYPE ts_doc_param.
  FIELD-SYMBOLS:
    &lt;t&gt;  LIKE LINE OF a0_maindata-texts,
    &lt;i&gt;  LIKE LINE OF includes,
    &lt;f&gt;  LIKE LINE OF functions,
*    &lt;ft&gt; LIKE LINE OF &lt;f&gt;-texts,
*    &lt;pa&gt; LIKE LINE OF &lt;f&gt;-parameters,
*    &lt;cx&gt; LIKE LINE OF &lt;f&gt;-exceptions,
*    &lt;pt&gt; LIKE LINE OF &lt;pa&gt;-texts,
    &lt;s&gt;  LIKE LINE OF s_inc-source.

  fm_data-header = a0_maindata-hdr.
  fm_data-textspool = textspool.
  fm_data-dynpros = dynpros.
  fm_data-menupainter = menupainter.

*APPLICATION                                      DOKU
*ID	                                   	RE
*OBJECT	                                   	SAPLxxxx
*LANGU                                      E
*MASTERLANG	                                   	X
*TYP                                      E
*DOKFORM                                      S_DOCU_SHOW
*DOKSTYLE	                                   	S_DOCUS1
  s_doc-application = &apos;DOKU&apos;.   s_doc-id = doc_ids-group.   s_doc-object = zaplink_function_group=&gt;get_mainprogram( fm_data-header-area ).
  s_doc-masterlang = abap_true.   s_doc-typ = &apos;E&apos;.    s_doc-dokform = &apos;S_DOCU_SHOW&apos;.    s_doc-dokstyle = &apos;S_DOCUS1&apos;.
  LOOP AT a0_maindata-texts ASSIGNING &lt;t&gt;.
    IF NOT &lt;t&gt;-short_txt IS INITIAL.    CLEAR s_txt.    s_txt-spras = &lt;t&gt;-langu.   s_txt-areat = &lt;t&gt;-short_txt.   INSERT s_txt INTO TABLE fm_data-texts.    ENDIF.
    IF NOT &lt;t&gt;-long_txt IS INITIAL.
      CLEAR s_doc_txt.    s_doc_txt = &lt;t&gt;-long_txt.   s_doc_txt-tdspras = &lt;t&gt;-langu.    INSERT s_doc_txt INTO TABLE s_doc-texts.
      IF s_doc-langu IS INITIAL.    s_doc-langu = s_doc_txt-tdspras.    ENDIF.
    ENDIF.
  ENDLOOP.
  IF NOT s_doc-texts IS INITIAL.    INSERT s_doc INTO TABLE fm_data-docs.   ENDIF.

  LOOP AT includes ASSIGNING &lt;i&gt;.
    CLEAR s_inc.   d_suffix = s_inc-name = &lt;i&gt;-name.
    s_inc-source = zaplink_function_group=&gt;conv_abap_source2raw( &lt;i&gt;-source-_ ).
    IF d_suffix = s_inc-name.   &quot; include has been truncated
      CONCATENATE &apos;L&apos; a0_maindata-area d_suffix INTO s_inc-name.
      CALL FUNCTION &apos;FUNCTION_INCLUDE_SPLIT&apos;
*     EXPORTING
*       PROGRAM                            =
*       SUPPRESS_SELECT                    = &apos;X&apos;
*       COMPLETE_AREA                      = &apos; &apos;
        IMPORTING
*       NAMESPACE                          =
*       FUNCTION_NOT_EXISTS                =
          group                              = d_group
*       FUNCNAME                           =
*       INCLUDE_NUMBER                     =
*       NO_FUNCTION_INCLUDE                =
*       NO_FUNCTION_MODULE                 =
          suffix                             = d_suffix
*       RESERVED_NAME                      =
*       TOO_MANY_DELIMITERS                =
*       RESERVED_FOR_EXITS                 =
*       HIDDEN_NAME                        =
        CHANGING
          include                            = s_inc-name
        EXCEPTIONS
          include_not_exists                 = 1
          group_not_exists                   = 2
          no_selections                      = 3
          no_function_include                = 4
          no_function_pool                   = 5
          delimiter_wrong_position           = 6
          no_customer_function_group         = 7
          no_customer_function_include       = 8
          reserved_name_customer             = 9
          namespace_too_long                 = 10
          area_length_error                  = 11
          OTHERS                             = 12.
      IF sy-subrc &lt;&gt; 0.
        MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
                WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4.
      ENDIF.
      IF d_group &lt;&gt; a0_maindata-area.   CONTINUE.   ENDIF.    &quot; Internal error
      IF d_suffix = suffixes-top AND NOT s_inc-source IS INITIAL.
*FUNCTION-POOL SVIM MESSAGE-ID SV.
        READ TABLE s_inc-source ASSIGNING &lt;s&gt; INDEX 1.
        TRANSLATE &lt;s&gt; TO UPPER CASE.                      &quot;#EC SYNTCHAR
        IF &lt;s&gt; CP &apos;FUNCTION-POOL *&apos;.
          CONCATENATE space markups-area space INTO d_search.   TRANSLATE d_search TO UPPER CASE.
          CONCATENATE space a0_maindata-area space INTO d_replace.
          REPLACE FIRST OCCURRENCE OF d_search IN &lt;s&gt; WITH d_replace.
        ENDIF.
      ENDIF.
    ENDIF.
    INSERT s_inc INTO TABLE fm_data-includes.
  ENDLOOP.

*  LOOP AT functions ASSIGNING &lt;f&gt;.
*    CLEAR s_func.   MOVE-CORRESPONDING &lt;f&gt; TO s_func-header.
** Source code : remove FUNCTION XXX &amp; ENDFUNCTION.
*    IF NOT &lt;f&gt;-source-_ IS INITIAL.
*      s_func-source = zaplink_function_group=&gt;conv_abap_source2raw( &lt;f&gt;-source-_ ).
*      READ TABLE s_func-source ASSIGNING &lt;s&gt; INDEX 1.   TRANSLATE &lt;s&gt; TO UPPER CASE. &quot;#EC SYNTCHAR
*      IF NOT &lt;s&gt; CP &apos;FUNCTION *.&apos;.    CONCATENATE `FUNCTION ` &lt;f&gt;-name &apos;.&apos; INTO s_line.   INSERT s_line INTO s_func-source INDEX 1.   ENDIF.
*      d_lcount = LINES( s_func-source ).    READ TABLE s_func-source ASSIGNING &lt;s&gt; INDEX d_lcount.    TRANSLATE &lt;s&gt; TO UPPER CASE. &quot;#EC SYNTCHAR
*      IF NOT &lt;s&gt; CP &apos;ENDFUNCTION*.&apos;.    APPEND &apos;ENDFUNCTION.&apos; TO s_func-source.   ENDIF.
*    ENDIF.
*
**APPLICATION                                      DOKU
**ID                                      FU
**OBJECT                                      xxxxx
**LANGU                                      F
**MASTERLANG                                      X
**TYP                                      T
**DOKFORM                                      S_DOCU_SHOW
**DOKSTYLE                                      S_DOCUS1
*    CLEAR s_doc.    s_doc-application = &apos;DOKU&apos;.   s_doc-id = doc_ids-function.   s_doc-object = &lt;f&gt;-name.
*    s_doc-masterlang = abap_true.   s_doc-typ = &apos;T&apos;.    s_doc-dokform = &apos;S_DOCU_SHOW&apos;.    s_doc-dokstyle = &apos;S_DOCUS1&apos;.
*    LOOP AT &lt;f&gt;-texts ASSIGNING &lt;ft&gt;.
*      IF NOT &lt;ft&gt;-short_txt IS INITIAL.    CLEAR s_f_txt.    s_f_txt-spras = &lt;ft&gt;-langu.   s_f_txt-stext = &lt;ft&gt;-short_txt.   s_f_txt-funcname = &lt;f&gt;-name.   INSERT s_f_txt INTO TABLE fm_data-function_texts.    ENDIF.
*      IF NOT &lt;ft&gt;-long_txt IS INITIAL.
*        CLEAR s_doc_txt.    s_doc_txt = &lt;ft&gt;-long_txt.   s_doc_txt-tdspras = &lt;ft&gt;-langu.    INSERT s_doc_txt INTO TABLE s_doc-texts.
*        IF s_doc-langu IS INITIAL.    s_doc-langu = s_doc_txt-tdspras.    ENDIF.
*      ENDIF.
*    ENDLOOP.
*    IF NOT s_doc-texts IS INITIAL.    INSERT s_doc INTO TABLE fm_data-docs.   ENDIF.
*
*    LOOP AT &lt;f&gt;-parameters ASSIGNING &lt;pa&gt;.
*      CASE &lt;pa&gt;-kind.
*        WHEN parameter_kinds-importing.
*          CLEAR s_p_im.   s_p_im = &lt;pa&gt;-hdr.    INSERT s_p_im INTO TABLE s_func-import_p.
*        WHEN parameter_kinds-changing.
*          CLEAR s_p_ch.   s_p_ch = &lt;pa&gt;-hdr.    INSERT s_p_ch INTO TABLE s_func-changing_p.
*        WHEN parameter_kinds-exporting.
*          CLEAR s_p_ex.   MOVE-CORRESPONDING &lt;pa&gt;-hdr TO s_p_ex.    INSERT s_p_ex INTO TABLE s_func-export_p.
*        WHEN parameter_kinds-table.
*          CLEAR s_p_ta.   MOVE-CORRESPONDING &lt;pa&gt;-hdr TO s_p_ta.    s_p_ta-dbstruct = &lt;pa&gt;-dbfield.    INSERT s_p_ta INTO TABLE s_func-tables.
*        WHEN OTHERS.
*      ENDCASE.
**APPLICATION                                      DOKU
**ID                                      FU
**OBJECT                                      xxxxx yyy
**LANGU                                      F
**MASTERLANG                                      X
**TYP                                      T
**DOKFORM                                      S_DOCU_SHOW
**DOKSTYLE                                      S_DOCUS1
*      CLEAR: d_doc_p, s_doc.    d_doc_p-func = &lt;f&gt;-name.    d_doc_p-param = &lt;pa&gt;-parameter.    s_doc-application = &apos;DOKU&apos;.   s_doc-id = doc_ids-function.
*      s_doc-object = d_doc_p.   s_doc-masterlang = abap_true.   s_doc-typ = &apos;T&apos;.    s_doc-dokform = &apos;S_DOCU_SHOW&apos;.    s_doc-dokstyle = &apos;S_DOCUS1&apos;.
*      LOOP AT &lt;pa&gt;-texts ASSIGNING &lt;pt&gt;.
*        IF NOT &lt;pt&gt;-short_txt IS INITIAL.
*          CLEAR s_p_txt. s_p_txt-spras = &lt;pt&gt;-langu. s_f_txt-stext = &lt;pt&gt;-short_txt. s_p_txt-funcname = &lt;f&gt;-name. s_p_txt-parameter = &lt;pa&gt;-parameter. s_p_txt-kind = &apos;P&apos;. INSERT s_p_txt INTO TABLE fm_data-param_texts.
*        ENDIF.
*        IF NOT &lt;pt&gt;-long_txt IS INITIAL.
*          CLEAR s_doc_txt.    s_doc_txt = &lt;pt&gt;-long_txt.   s_doc_txt-tdspras = &lt;pt&gt;-langu.    INSERT s_doc_txt INTO TABLE s_doc-texts.
*          IF s_doc-langu IS INITIAL.    s_doc-langu = s_doc_txt-tdspras.    ENDIF.
*        ENDIF.
*      ENDLOOP.
*      IF NOT s_doc-texts IS INITIAL.    INSERT s_doc INTO TABLE fm_data-docs.   ENDIF.
*    ENDLOOP.
*
*    LOOP AT &lt;f&gt;-exceptions ASSIGNING &lt;cx&gt;.
*      CLEAR s_excep.    s_excep = &lt;cx&gt;-hdr.
*
*      LOOP AT &lt;cx&gt;-texts ASSIGNING &lt;pt&gt;.
*        CLEAR s_p_txt.    s_p_txt-spras = &lt;pt&gt;-langu.   s_f_txt-stext = &lt;pt&gt;-short_txt.   s_p_txt-funcname = &lt;f&gt;-name.    s_p_txt-parameter = &lt;cx&gt;-exception.   s_p_txt-kind = &apos;X&apos;.    INSERT s_p_txt INTO TABLE fm_data-param_texts.
*      ENDLOOP.
*      INSERT s_excep INTO TABLE s_func-exceptions.
*    ENDLOOP.
*
*    INSERT s_func INTO TABLE fm_data-functions.
*  ENDLOOP.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="UNANONYMIZE" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623">
     <TEXTS>
      <ITEM LANG="E" TEXT="UnAnonymized component data"/>
     </TEXTS>
    </ITEM>
   </METHODS>
   <TYPEGROUPS>
    <ITEM TYPEGROUP="ABAP" VERSION="1" IMPLICIT="X"/>
   </TYPEGROUPS>
   <TYPES>
    <ITEM CMPNAME="TD_INCLUDENAME" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="14 " AUTHOR="TBENSIAL" CREATEDON="20100308" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="1" TYPE="D010INC-INCLUDE"/>
    <ITEM CMPNAME="TD_PARAMKIND" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="25 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="1" TYPE="KIND"/>
    <ITEM CMPNAME="TO_FUNCTION" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="30 " AUTHOR="TBENSIAL" CREATEDON="20100623" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="3" TYPE="ZAPLINK_FUNC_RAW" R3RELEASE="700"/>
    <ITEM CMPNAME="TO_MENUPAINTER" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="3" TYPE="ZAPLINK_MENUPAINTER_DATA">
     <TEXTS>
      <ITEM LANG="E" TEXT="Menu painter Data"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TS_DOC_PARAM" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100309" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">BEGIN OF ts_doc_param,
      func 	TYPE rs38l_fnam,
      param TYPE rs38l_par_,
    END OF ts_doc_param
`</ITEM>
    <ITEM CMPNAME="TS_EXCEP" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="28 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">BEGIN OF ts_excep.
  INCLUDE TYPE rsexc AS hdr.
  TYPES:
      texts       TYPE tt_texts,
    END OF ts_excep
`</ITEM>
    <ITEM CMPNAME="TS_FM_DATA" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="21 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">
     BEGIN OF ts_fm_data,
* DO pour type doc
                header          TYPE tlibg,
                texts           TYPE tt_tlibt,
                docs            TYPE tt_docs,
                textspool	      TYPE tt_txtp_textpools,
                dynpros	        TYPE tt_dynpros,
                menupainter	    TYPE to_menupainter,
                includes        TYPE tt_rawincludes,
                functions       TYPE tt_funcs,
                function_texts  TYPE tt_tftit,
                param_texts     TYPE tt_funct,
              END OF ts_fm_data
`
     <TEXTS>
      <ITEM LANG="E" TEXT="Function Module Data"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TS_FUNC" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="19 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="1" TYPE="ZAPLINK_FUNC_DATA=&gt;TS_FM_DATA"/>
    <ITEM CMPNAME="TS_FUNCTION" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="31 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">BEGIN OF ts_function,
      zl_object type to_function,
      END OF ts_function
`</ITEM>
    <ITEM CMPNAME="TS_INCLUDE" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="15 " AUTHOR="TBENSIAL" CREATEDON="20100308" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">BEGIN OF ts_include,
      name   TYPE td_includename,
      source TYPE ts_source,
    END OF ts_include
`</ITEM>
    <ITEM CMPNAME="TS_MAINDATA" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="22 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">
     BEGIN OF ts_maindata.
  INCLUDE TYPE tlibg as hdr.
  TYPES:
      texts       TYPE tt_texts,
    END OF ts_maindata
`
     <TEXTS>
      <ITEM LANG="E" TEXT="Function Module main data"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TS_PARAM" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="26 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">BEGIN OF ts_param,
      kind TYPE td_paramkind.
  INCLUDE TYPE rsimp AS hdr.
  TYPES:
      texts       TYPE tt_texts,
    END OF ts_param
`</ITEM>
    <ITEM CMPNAME="TS_RAWINCLUDE" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="17 " AUTHOR="TBENSIAL" CREATEDON="20100308" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">BEGIN OF ts_rawinclude,
      name   TYPE td_includename,
      source TYPE tt_abaprawsource,
    END OF ts_rawinclude
`</ITEM>
    <ITEM CMPNAME="TS_SOURCE" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="13 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">
     BEGIN OF ts_source,
            _ TYPE string,
          END OF ts_source
`
     <TEXTS>
      <ITEM LANG="E" TEXT="ABAP Source code"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TS_TEXTPOOL" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="23 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">
     BEGIN OF ts_textpool,
          id    TYPE  textpoolid,
          key	  TYPE  textpoolky,
          texts TYPE  tt_texts,
        END OF ts_textpool
`
     <TEXTS>
      <ITEM LANG="E" TEXT="Textpool"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TT_EXCEPTIONS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="29 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">tt_exceptions TYPE SORTED TABLE OF ts_excep WITH UNIQUE KEY exception
`</ITEM>
    <ITEM CMPNAME="TT_FM_DATA" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">tt_fm_data TYPE STANDARD TABLE OF zaplink_func_data=&gt;ts_fm_data WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_FUNCS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="20 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">tt_funcs TYPE SORTED TABLE OF ts_func WITH UNIQUE KEY header-name
`</ITEM>
    <ITEM CMPNAME="TT_FUNCT" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="7 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">tt_funct TYPE SORTED TABLE OF funct WITH UNIQUE KEY funcname parameter kind spras
`</ITEM>
    <ITEM CMPNAME="TT_FUNCTIONS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="32 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">tt_functions TYPE STANDARD TABLE OF ts_function WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_INCLUDES" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="16 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">tt_includes TYPE SORTED TABLE OF ts_include WITH UNIQUE KEY name
`</ITEM>
    <ITEM CMPNAME="TT_PARAMS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="27 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">tt_params TYPE SORTED TABLE OF ts_param WITH UNIQUE KEY parameter
`</ITEM>
    <ITEM CMPNAME="TT_RAWINCLUDES" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="18 " AUTHOR="TBENSIAL" CREATEDON="20100308" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">tt_rawincludes TYPE STANDARD TABLE OF ts_rawinclude WITH NON-UNIQUE KEY name
`</ITEM>
    <ITEM CMPNAME="TT_RSCHA" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="9 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">tt_rscha TYPE STANDARD TABLE OF rscha WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_RSEXC" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="12 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">tt_rsexc TYPE STANDARD TABLE OF rsexc WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_RSEXP" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="10 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">tt_rsexp TYPE STANDARD TABLE OF rsexp WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_RSIMP" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="8 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">tt_rsimp TYPE STANDARD TABLE OF rsimp WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_RSTBL" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="11 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">tt_rstbl TYPE STANDARD TABLE OF rstbl WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_TEXTPOOLS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="24 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">
     tt_textpools TYPE SORTED TABLE OF ts_textpool WITH UNIQUE KEY id KEY
`
     <TEXTS>
      <ITEM LANG="E" TEXT="Textpool table"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TT_TFTIT" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="6 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">tt_tftit TYPE SORTED TABLE OF tftit WITH UNIQUE KEY funcname spras
`</ITEM>
    <ITEM CMPNAME="TT_TLIBT" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="5 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">tt_tlibt TYPE SORTED TABLE OF tlibt WITH UNIQUE KEY spras
`</ITEM>
    <ITEM CMPNAME="T_RAW" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="1" TYPE="RSWSOURCET">
     <TEXTS>
      <ITEM LANG="E" TEXT="ABAP Source table"/>
     </TEXTS>
    </ITEM>
   </TYPES>
  </RAW>
 </ZL_OBJECT>
 <ZL_OBJECT CHECKSUM="CE7154A1B0534C8FA14D90209F8AD221" CODE_SIGNATURE="6886FD8C6B46A41597AE70B2EB1EC6E0" CONNECTOR="39AC0A4B07A5A05AE1000000AC120173" NAME="ZAPLINK_FUNCTION_GROUP" TYPE="CLAS" VERSION="1.01">
  <DEPENDENCIES>
   <ITEM TYPE="CLAS" NAME="ZAPLINK_CONNECTOR_"/>
   <ITEM TYPE="CLAS" NAME="ZAPLINK_FUGR_DATA"/>
   <ITEM TYPE="CLAS" NAME="ZAPLINK_FUNC_DATA"/>
  </DEPENDENCIES>
  <DIRECTORY SRCSYSTEM="OD4" AUTHOR="TBENSIAL" DEVCLASS="ZAPLINK-CONNECTORS-MAIN" MASTERLANG="E"/>
  <RAW>
   <A0_MAINDATA VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100308" CLSCCINCL="X" FIXPT="X" UNICODE="X" R3RELEASE="700" MSG_ID="ZAPLINK_FUGR">
    <INHERITANCE REFCLSNAME="ZAPLINK_CONNECTOR_" VERSION="1" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100416"/>
    <TEXTS>
     <ITEM LANG="E" TEXT="Data for Class">U1&amp;FUNCTIONALITY&amp;
ASIs a connector for :
AS- FUGR : Function Group
U1&amp;RELATIONS&amp;
ASIs part of ZAP Link Framework as Official Connector.
ASRequire Official connector for Program types (PROG).
U1&amp;EXAMPLE&amp;
AS
U1&amp;HINTS&amp;
AS
U1&amp;FURTHER_SOURCES_OF_INF&amp;
AShttps://code.google.com/p/zaplink/wiki/Connector
U1Memories
ASThis application is dedicated to the memories of :
B2My father : Lamri BENSIALI (1940-2004) without whom I never started
  programming
B2My uncle : Jacky BEDU (1934-2009) who died during the completion of this
  application</ITEM>
    </TEXTS>
   </A0_MAINDATA>
   <ATTRIBUTS>
    <ITEM CMPNAME="BALLOG_SUBOBJECT" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100528" ATTDECLTYP="2" ATTVALUE="&apos;CNX_FUNCTION_GROUP&apos;" TYPTYPE="1" TYPE="BALSUBOBJ" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="Application Log: Subobject"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="C_MAINPROG_PREFIX" VERSION="1" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100603" ATTDECLTYP="2" ATTVALUE="&apos;SAPL&apos;" TYPTYPE="1" TYPE="TRDIR-NAME">
     <TEXTS>
      <ITEM LANG="E" TEXT="Function group Main program prefix"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="SUPPORTEDKINDS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100603" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" ATTDECLTYP="1" TYPTYPE="4">BEGIN OF supportedkinds,
      group             TYPE td_transport_kind,
      function          TYPE td_transport_kind,
    END OF supportedkinds
`</ITEM>
    <ITEM CMPNAME="SUPPORTEDTYPES" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" ATTDECLTYP="2" TYPTYPE="4">
     BEGIN OF supportedtypes,
      group             TYPE td_comptype VALUE &apos;FUGR&apos;,      &quot;#EC NOTEXT
      function          TYPE td_comptype VALUE &apos;FUNC&apos;,      &quot;#EC NOTEXT
    END OF supportedtypes
`
     <TEXTS>
      <ITEM LANG="E" TEXT="Connector supported types"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="_UUID" VERSION="1" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100603" ATTDECLTYP="2" ATTVALUE="&apos;F1838F4B202C2806E1000000AC120173&apos;" TYPTYPE="1" TYPE="TD_CONNUUID">
     <TEXTS>
      <ITEM LANG="E" TEXT="UUID for connector Program"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="_VER" VERSION="1" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100603" ATTDECLTYP="2" ATTVALUE="&apos;1.0&apos;" TYPTYPE="1" TYPE="TD_CONNVER">
     <TEXTS>
      <ITEM LANG="E" TEXT="Connector Version"/>
     </TEXTS>
    </ITEM>
   </ATTRIBUTS>
   <DEFERRED>
    <CLASSES>
     <ITEM TYPEGROUP="ZAPLINK_FUGR_DATA" VERSION="1" TPUTYPE="1" IMPLICIT="X"/>
     <ITEM TYPEGROUP="ZAPLINK_FUNC_DATA" VERSION="1" TPUTYPE="1" IMPLICIT="X"/>
    </CLASSES>
   </DEFERRED>
   <FRIENDS>
    <ITEM REFCLSNAME="ZAPLINK_FUGR_DATA" VERSION="1" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100308"/>
    <ITEM REFCLSNAME="ZAPLINK_FUNC_DATA" VERSION="1" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100527"/>
    <ITEM REFCLSNAME="ZAPLINK_FUNC_RAW" VERSION="1" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100527"/>
   </FRIENDS>
   <LOCAL>
    <TYPES>`
*&quot;* USE THIS SOURCE FILE FOR ANY TYPE DECLARATIONS (CLASS
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</TYPES>
    <IMPLEMENTATIONS>`
*&quot;* LOCAL CLASS IMPLEMENTATION FOR PUBLIC CLASS
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</IMPLEMENTATIONS>
    <MACROS>`
*&quot;* USE THIS SOURCE FILE FOR ANY MACRO DEFINITIONS YOU NEED
*&quot;* in the implementation part of the class

INCLUDE zaplink_macros.</MACROS>
   </LOCAL>
   <METHODS>
    <ITEM CMPNAME="CALC_FUNCTION_SIGNATURE" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100528" CHANGEDBY="TBENSIAL" CHANGEDON="20100603" MTDDECLTYP="1">
     <TEXTS>
      <ITEM LANG="E" TEXT="Get Source code Signature of a function"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="FUNCTION" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100528" CHANGEDBY="TBENSIAL" CHANGEDON="20100603" PARPASSTYP="1" TYPTYPE="1" TYPE="TS_FMD_FUNC">
       <TEXTS>
        <ITEM LANG="E" TEXT="Function Group Name"/>
       </TEXTS>
      </ITEM>
      <ITEM SCONAME="RESULT" VERSION="1" CMPTYPE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100528" CHANGEDBY="TBENSIAL" CHANGEDON="20100603" PARDECLTYP="3" TYPTYPE="1" TYPE="ZAPLINK_DATATYPES~TD_CHECKSUM">
       <TEXTS>
        <ITEM LANG="E" TEXT="MD5 Hash"/>
       </TEXTS>
      </ITEM>
     </PARAMETERS>
     <SOURCE>`
  DATA d_src      TYPE string.
  DATA d_lcount   TYPE i.
  DATA t_code     TYPE tt_abaprawsource.
  FIELD-SYMBOLS: &lt;s&gt; LIKE LINE OF function-source.

  CHECK function-source IS NOT INITIAL.   t_code = function-source.
  READ TABLE t_code ASSIGNING &lt;s&gt; INDEX 1.
  IF &lt;s&gt; CP &apos;FUNCTION *.&apos;.    DELETE t_code INDEX 1.   ENDIF.
  d_lcount = LINES( t_code ).
  READ TABLE t_code ASSIGNING &lt;s&gt; INDEX d_lcount.
  IF &lt;s&gt; CP &apos;ENDFUNCTION*.&apos;.    DELETE t_code INDEX d_lcount.   ENDIF.

* Calcul MD5
  zaplink_tools=&gt;pretty_printer( CHANGING table = t_code ).
  zaplink_tools=&gt;condense_abap_source( CHANGING table = t_code ).
  d_src = zaplink_tools=&gt;table_2_string( t_code ).
  d_src = zaplink_tools=&gt;clean_abap_string( d_src ).
  result = zaplink_tools=&gt;calculate_md5_hash( d_src ).</SOURCE>
    </ITEM>
    <ITEM CMPNAME="CLASS_CONSTRUCTOR" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100603" MTDTYPE="2" MTDDECLTYP="1" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="CLASS_CONSTRUCTOR"/>
     </TEXTS>
     <SOURCE>`
  supportedkinds-group =  zaplink_connectors=&gt;get_typekind( supportedtypes-group ).
  supportedkinds-function =  zaplink_connectors=&gt;get_typekind( supportedtypes-function ).</SOURCE>
    </ITEM>
    <ITEM CMPNAME="CONSTRUCTOR" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100603" MTDTYPE="2" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="CONSTRUCTOR"/>
     </TEXTS>
     <SOURCE>`
  DATA type LIKE LINE OF supported_types.

  CALL METHOD super-&gt;constructor.
  mac_create_log application_log ballog_subobject space.
  type-type = supportedtypes-group.    INSERT type INTO TABLE supported_types.
  type-type = supportedtypes-function. INSERT type INTO TABLE supported_types.

  uuid = _uuid.
  version = _ver.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="DEL_FUNCTION" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100604" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" MTDNEWEXC="X" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="Delete function from SAP System is required"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="FUNC" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100604" TYPTYPE="1" TYPE="TS_FMD_FUNC"/>
     </PARAMETERS>
     <EXCEPTIONS>
      <ITEM SCONAME="ZAPLINK_CX_CONNECTOR" VERSION="1" LANGU="E" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100604">
       <TEXTS>
        <ITEM LANG="E" TEXT="ZAPlink ROOT Exception for Connectors"/>
       </TEXTS>
      </ITEM>
     </EXCEPTIONS>
     <SOURCE>`
  DATA d_pname     TYPE tfdir-pname.
  DATA d_group     TYPE rs38l-area.
  DATA d_msg       TYPE string.
  DATA t_params    TYPE STANDARD TABLE OF spar WITH DEFAULT KEY.
  DATA s_param     LIKE LINE OF t_params.
  DATA d_answer    TYPE c.

  TRY.

* FROM  FUNCTION &apos;RPY_FUNCTIONMODULE_READ&apos;
    SELECT SINGLE pname INTO d_pname FROM tfdir WHERE funcname = func-header-name.
    IF sy-subrc &lt;&gt; 0.   EXIT.   ENDIF.

    CALL FUNCTION &apos;FUNCTION_INCLUDE_SPLIT&apos;
      EXPORTING
        program                            = d_pname
*          SUPPRESS_SELECT                    = &apos;X&apos;
*          COMPLETE_AREA                      = &apos; &apos;
      IMPORTING
*          NAMESPACE                          =
*          FUNCTION_NOT_EXISTS                =
        group                              = d_group
*          FUNCNAME                           =
*          INCLUDE_NUMBER                     =
*          NO_FUNCTION_INCLUDE                =
*          NO_FUNCTION_MODULE                 =
*               SUFFIX                             =
*               RESERVED_NAME                      =
*               TOO_MANY_DELIMITERS                =
*               RESERVED_FOR_EXITS                 =
*               HIDDEN_NAME                        =
*              CHANGING
*                INCLUDE                            = d_pname
      EXCEPTIONS
        include_not_exists                 = 1
        group_not_exists                   = 2
        no_selections                      = 3
        no_function_include                = 4
        no_function_pool                   = 5
        delimiter_wrong_position           = 6
        no_customer_function_group         = 7
        no_customer_function_include       = 8
        reserved_name_customer             = 9
        namespace_too_long                 = 10
        area_length_error                  = 11
        OTHERS                             = 12.
    IF sy-subrc &lt;&gt; 0.   EXIT.   ENDIF.

    IF d_group &lt;&gt; func-header-str_area.    &quot; No problem on overwrite
      IF sy-batch = abap_true.   &quot;only delete in forground
        EXIT.
      ENDIF.

* The function &amp;1 already exist (&amp;2), do you confirm deletion ?
      MESSAGE i000 WITH d_pname d_group INTO d_msg.
      REFRESH t_params.
      s_param-param = &apos;FUNCTION&apos;.   s_param-value = func-header-name.         APPEND s_param TO t_params.
      s_param-param = &apos;GROUP&apos;.      s_param-value = d_group.                  APPEND s_param TO t_params.
      s_param-param = &apos;CURRENT_G&apos;.  s_param-value = func-header-str_area.     APPEND s_param TO t_params.
      CALL FUNCTION &apos;POPUP_TO_CONFIRM&apos;
        EXPORTING
          titlebar              = &apos;Confirm module function deletion&apos;(d00)
          diagnose_object       = &apos;ZAPLINK_FUNCTION_GROUP-CONF&apos;
          text_question         = d_msg
          text_button_1         = &apos;Yes&apos;(yes)
          icon_button_1         = &apos;ICON_DELETE&apos;
          text_button_2         = &apos;No&apos;(no_)
          icon_button_2         = &apos;ICON_SKIP&apos;
          default_button        = &apos;3&apos;
          display_cancel_button = &apos;X&apos;
          userdefined_f1_help   = &apos;ZAPLINK_FUNCTION_GROUP-CONFH&apos;
          start_column          = 10
          start_row             = 4
          popup_type            = &apos;ICON_MESSAGE_WARNING&apos;
          iv_quickinfo_button_1 = &apos;Function is deleted. Function group will be created with this function.&apos;(hye)
          iv_quickinfo_button_2 = &apos;Function is not deleted and process to next existing function. Function group will be created without this function.&apos;(hno)
        IMPORTING
          answer                = d_answer
        TABLES
          parameter             = t_params
        EXCEPTIONS
          text_not_found        = 1
          OTHERS                = 2.
      IF sy-subrc &lt;&gt; 0.
        mac_add_mf_and_raise &apos;POPUP_TO_CONFIRM&apos; sy-subrc.
      ELSEIF d_answer = &apos;N&apos; OR d_answer = &apos;2&apos;.
        EXIT.
      ELSEIF d_answer = &apos;A&apos;.    &quot; abend
        ROLLBACK WORK.
        mac_add_mf_and_raise &apos;RS_FUNCTION_DELETE&apos; 1.
      ENDIF.
    ENDIF.

    CALL FUNCTION &apos;RS_FUNCTION_DELETE&apos;
      EXPORTING
        funcname                 = func-header-name
        suppress_popups          = abap_true
*               SUPPRESS_CHECKS          = &apos; &apos;
*               SUPPRESS_DELE_ENHA       = &apos; &apos;
*               TRREQUEST                =
      EXCEPTIONS
        cancelled                = 1
        function_released        = 2
        OTHERS                   = 3.
    IF sy-subrc &lt;&gt; 0.
      mac_add_mf_and_raise &apos;RS_FUNCTION_DELETE&apos; sy-subrc.
    ENDIF.
    DELETE FROM tftit WHERE funcname = func-header-name.
    DELETE FROM funct WHERE funcname = func-header-name.

    mac_def_catch zaplink_cx_connector.
  ENDTRY.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="GET_ALL_INCLUDES" VERSION="1" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100308" MTDDECLTYP="1">
     <TEXTS>
      <ITEM LANG="E" TEXT="In subtitution to MF &apos;RS_GET_ALL_INCLUDES&apos;"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="NAME" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100416" PARPASSTYP="1" TYPTYPE="1" TYPE="TD_FUNCTIONGROUP_NAME">
       <TEXTS>
        <ITEM LANG="E" TEXT="Function group, to which the function module belongs"/>
       </TEXTS>
      </ITEM>
      <ITEM SCONAME="RESULTS" VERSION="1" CMPTYPE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100416" PARDECLTYP="3" TYPTYPE="1" TYPE="TT_INCLUDES"/>
      <ITEM SCONAME="WITH_CODE" VERSION="1" CMPTYPE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100416" PARPASSTYP="1" TYPTYPE="1" TYPE="ABAP_BOOL" PAROPTIONL="X">
       <TEXTS>
        <ITEM LANG="E" TEXT="Not only form include but all include with ABAP Code"/>
       </TEXTS>
      </ITEM>
     </PARAMETERS>
     <SOURCE>`
  DATA: _result           LIKE LINE OF results.
  DATA d_include          TYPE rs38l-include.
  DATA d_is_hidden        TYPE abap_bool.
  DATA d_is_extern        TYPE abap_bool.
  DATA d_not_funct        TYPE abap_bool.
  DATA d_suffix           TYPE rs38l-suffix.
* Code from FM &apos;RS_GET_ALL_INCLUDES&apos;
  DATA: program           TYPE trdir-name.
  DATA: _fugr_name        TYPE rs38l-area.
  DATA: _is_reserved_name TYPE c.
  DATA: includes          TYPE STANDARD TABLE OF rseuinc.
  FIELD-SYMBOLS:
    &lt;wa&gt; LIKE LINE OF includes.

  program = get_mainprogram( name ).
* Code from FM &apos;RS_GET_ALL_INCLUDES&apos;
  SELECT * FROM d010inc
           APPENDING CORRESPONDING FIELDS OF TABLE includes
*           appending table includes
           WHERE master = program.
  CALL FUNCTION &apos;RS_WORKING_AREA_ACTIVE_CHECK&apos;
    EXCEPTIONS
      nok = 1.
  IF sy-subrc = 0.
    SELECT * FROM rseuinc
             APPENDING CORRESPONDING FIELDS OF TABLE includes
*             appending table includes
             WHERE master = program.
  ENDIF.
  SORT includes BY include.
  DELETE ADJACENT DUPLICATES FROM includes COMPARING include.
  LOOP AT includes ASSIGNING &lt;wa&gt;.
* change from code from FM &apos;RS_GET_ALL_INCLUDES&apos;
*    CALL FUNCTION &apos;RS_PROGNAME_SPLIT&apos;
    d_include = &lt;wa&gt;-include.
    CALL FUNCTION &apos;FUNCTION_INCLUDE_SPLIT&apos;
*     EXPORTING
*       PROGRAM                            =
*       SUPPRESS_SELECT                    = &apos;X&apos;
*       COMPLETE_AREA                      = &apos; &apos;
      IMPORTING
*       NAMESPACE                          =
*       FUNCTION_NOT_EXISTS                =
        group                              = _fugr_name
*       FUNCNAME                           =
*       INCLUDE_NUMBER                     =
        no_function_include                = d_is_extern
        no_function_module                 = d_not_funct
        suffix                             = d_suffix
        reserved_name                      = _is_reserved_name
*       TOO_MANY_DELIMITERS                =
*       RESERVED_FOR_EXITS                 =
        hidden_name                        = d_is_hidden
      CHANGING
        include                            = d_include
      EXCEPTIONS
        include_not_exists                 = 1
        group_not_exists                   = 2
        no_selections                      = 3
        no_function_include                = 4
        no_function_pool                   = 5
        delimiter_wrong_position           = 6
        no_customer_function_group         = 7
        no_customer_function_include       = 8
        reserved_name_customer             = 9
        namespace_too_long                 = 10
        area_length_error                  = 11
        OTHERS                             = 12.
    IF sy-subrc = 0 AND _fugr_name = name AND d_is_extern = abap_false AND
      ( with_code = abap_true OR
              ( d_not_funct = abap_true AND d_is_hidden = abap_false AND
                        ( d_suffix = &apos;TOP&apos; OR _is_reserved_name = abap_false ) ) ) .
      _result-name = &lt;wa&gt;-include.
      _result-source = get_prog_rawsource( _result-name ).
      APPEND _result TO results.
    ENDIF.
  ENDLOOP.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="GET_FUNCTION_SIGNATURE" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20100528" CHANGEDBY="TBENSIAL" CHANGEDON="20100603" MTDDECLTYP="1" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="Get Source code Signature of a function"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="NAME" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100528" PARPASSTYP="1" TYPTYPE="1" TYPE="TD_FUNCTION_NAME">
       <TEXTS>
        <ITEM LANG="E" TEXT="Function Group Name"/>
       </TEXTS>
      </ITEM>
      <ITEM SCONAME="RESULT" VERSION="1" CMPTYPE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100528" PARDECLTYP="3" TYPTYPE="1" TYPE="ZAPLINK_DATATYPES~TD_CHECKSUM">
       <TEXTS>
        <ITEM LANG="E" TEXT="MD5 Hash"/>
       </TEXTS>
      </ITEM>
     </PARAMETERS>
     <SOURCE>`
  DATA d_src      TYPE string.
  DATA s_fm_func  TYPE ts_fmd_func.
  DATA d_lcount   TYPE i.
  FIELD-SYMBOLS: &lt;s&gt; LIKE LINE OF s_fm_func-source.

  s_fm_func = read_function( name ).
  result = CALC_FUNCTION_SIGNATURE( s_fm_func ).</SOURCE>
    </ITEM>
    <ITEM CMPNAME="GET_GROUP_SIGNATURE" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100416" CHANGEDBY="TBENSIAL" CHANGEDON="20100603" MTDDECLTYP="1" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="Get Source code Signature of a function group"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="GROUP_NAME" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100416" CHANGEDBY="TBENSIAL" CHANGEDON="20100416" PARPASSTYP="1" TYPTYPE="1" TYPE="TD_FUNCTIONGROUP_NAME">
       <TEXTS>
        <ITEM LANG="E" TEXT="Function Group Name"/>
       </TEXTS>
      </ITEM>
      <ITEM SCONAME="RESULT" VERSION="1" CMPTYPE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100416" PARDECLTYP="3" TYPTYPE="1" TYPE="ZAPLINK_DATATYPES~TD_CHECKSUM">
       <TEXTS>
        <ITEM LANG="E" TEXT="MD5 Hash"/>
       </TEXTS>
      </ITEM>
     </PARAMETERS>
     <SOURCE>`
  DATA t_includes  TYPE tt_includes.
  DATA t_code      TYPE tt_abaprawsource.
*  DATA t_code_tmp  TYPE tt_abaprawsource.
  DATA d_src       TYPE string.
  DATA d_mainprog  TYPE td_progname.
*  DATA t_functions TYPE tt_rs38l_incl.
  FIELD-SYMBOLS:
    &lt;i&gt; LIKE LINE OF t_includes.
*    &lt;f&gt; LIKE LINE OF t_functions.

* Main Prog
  d_mainprog = get_mainprogram( group_name ).
  t_code = get_prog_rawsource( d_mainprog ).

** Functions
*  CALL FUNCTION &apos;RS_FUNCTION_POOL_CONTENTS&apos;
*    EXPORTING
*      function_pool           = group_name
*    TABLES
*      functab                 = t_functions
*    EXCEPTIONS
*      function_pool_not_found = 1
*      OTHERS                  = 2.
*  IF sy-subrc &lt;&gt; 0.
*    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
*            WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4.
*  ENDIF.
*  LOOP AT t_functions ASSIGNING &lt;f&gt;.  t_code_tmp = get_prog_rawsource( &lt;f&gt;-include ).     APPEND LINES OF t_code_tmp TO t_code.   ENDLOOP.

* Includes
  t_includes = get_all_includes( name = group_name
                            with_code = abap_true  ).
  LOOP AT t_includes ASSIGNING &lt;i&gt;.   APPEND LINES OF &lt;i&gt;-source TO t_code.   ENDLOOP.

* Calcul MD5
  zaplink_tools=&gt;pretty_printer( CHANGING table = t_code ).
  zaplink_tools=&gt;condense_abap_source( CHANGING table = t_code ).
  d_src = zaplink_tools=&gt;table_2_string( t_code ).
  d_src = zaplink_tools=&gt;clean_abap_string( d_src ).
  result = zaplink_tools=&gt;calculate_md5_hash( d_src ).</SOURCE>
    </ITEM>
    <ITEM CMPNAME="GET_MAINPROGRAM" VERSION="1" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100308" MTDDECLTYP="1">
     <TEXTS>
      <ITEM LANG="E" TEXT="Get main program from Area"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="NAME" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100308" PARPASSTYP="1" TYPTYPE="1" TYPE="RS38L-AREA">
       <TEXTS>
        <ITEM LANG="E" TEXT="Function group, to which the function module belongs"/>
       </TEXTS>
      </ITEM>
      <ITEM SCONAME="RESULT" VERSION="1" CMPTYPE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100308" PARDECLTYP="3" TYPTYPE="1" TYPE="TRDIR-NAME">
       <TEXTS>
        <ITEM LANG="E" TEXT="ABAP Program Name"/>
       </TEXTS>
      </ITEM>
     </PARAMETERS>
     <SOURCE>`
  DATA s_rs38l TYPE rs38l.
* From LSFUNCTION_BUILDERI01 : module okcode_105 input.
  CALL FUNCTION &apos;FUNCTION_INCLUDE_SPLIT&apos;
    EXPORTING
      complete_area = name
    IMPORTING
      namespace     = s_rs38l-namespace
      group         = s_rs38l-str_area
    EXCEPTIONS
      OTHERS        = 6.
  CONCATENATE s_rs38l-namespace c_mainprog_prefix s_rs38l-str_area INTO result.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="READ_FUNCTION" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100528" CHANGEDBY="TBENSIAL" CHANGEDON="20100603" MTDDECLTYP="1" MTDNEWEXC="X">
     <TEXTS>
      <ITEM LANG="E" TEXT="Read function from SAP System"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="NAME" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100528" CHANGEDBY="TBENSIAL" CHANGEDON="20100603" PARPASSTYP="1" TYPTYPE="1" TYPE="TD_FUNCTION_NAME">
       <TEXTS>
        <ITEM LANG="E" TEXT="Name of Function Module"/>
       </TEXTS>
      </ITEM>
      <ITEM SCONAME="RESULT" VERSION="1" CMPTYPE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100528" CHANGEDBY="TBENSIAL" CHANGEDON="20100603" PARDECLTYP="3" TYPTYPE="1" TYPE="TS_FMD_FUNC"/>
     </PARAMETERS>
     <EXCEPTIONS>
      <ITEM SCONAME="ZAPLINK_CX_CONNECTOR" VERSION="1" LANGU="E" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100528">
       <TEXTS>
        <ITEM LANG="E" TEXT="ZAPlink ROOT Exception for Connectors"/>
       </TEXTS>
      </ITEM>
     </EXCEPTIONS>
     <SOURCE>`
  STATICS prev_func_name  TYPE  td_function_name.
  STATICS prev_func_data  TYPE  ts_fmd_func.
  DATA o_data     TYPE to_group.
  DATA s_fmd_fugr TYPE ts_fmd_fugr.
  DATA d_name     TYPE rs38l-name.
  DATA type       TYPE td_comptype.
  DATA d_mainprog TYPE td_progname.
  DATA d_soft_comp TYPE tdevc-dlvunit.
*  DATA t_functions TYPE tt_rs38l_incl.
  DATA s_func LIKE LINE OF s_fmd_fugr-functions.
  DATA t_doc TYPE STANDARD TABLE OF rsfdo WITH DEFAULT KEY.
  DATA t_src TYPE STANDARD TABLE OF rssource WITH DEFAULT KEY.
  DATA t_tmp_doc TYPE tt_docs.
  DATA d_doc TYPE doku_obj.
  DATA s_doc_param TYPE zaplink_fugr_data=&gt;ts_doc_param.
*  FIELD-SYMBOLS:
*    &lt;f&gt; LIKE LINE OF t_functions.

  IF prev_func_name = name.   result = prev_func_data.    RETURN.   ENDIF.    &quot; Use Cache
  TRY.
    result-header-name = s_doc_param-func =  name.
*          s_func-source = get_prog_rawsource( &lt;f&gt;-include ).
    s_doc_param-param = &apos;*&apos;.    d_doc = s_doc_param.
    result-docs = zaplink_documentation=&gt;get( ids = zaplink_fugr_data=&gt;r_doc_ids-function
                                           object =  d_doc ).
    CALL FUNCTION &apos;RPY_FUNCTIONMODULE_READ&apos;
      EXPORTING
        functionname             = result-header-name
      IMPORTING
        global_flag              = result-header-global
        remote_call              = result-header-remote
        update_task              = result-header-utask
*               SHORT_TEXT               =
        function_pool            = result-header-str_area
      TABLES
        import_parameter         = result-import_p
        changing_parameter       = result-changing_p
        export_parameter         = result-export_p
        tables_parameter         = result-tables
        exception_list           = result-exceptions
        documentation            = t_doc
        SOURCE                   = t_src
      EXCEPTIONS
        error_message            = 1
        function_not_found       = 2
        invalid_name             = 3
        OTHERS                   = 4.
    IF sy-subrc &lt;&gt; 0.
* MESSAGE ID SY-MSGID TYPE SY-MSGTY NUMBER SY-MSGNO
*         WITH SY-MSGV1 SY-MSGV2 SY-MSGV3 SY-MSGV4.
    ENDIF.
    result-source = t_src.
    SELECT * INTO TABLE result-texts FROM tftit WHERE funcname = result-header-name.
    SELECT * INTO TABLE result-param_texts FROM funct WHERE funcname = result-header-name.

    prev_func_data = result.    prev_func_name = name.

    mac_def_catch zaplink_cx_connector.
  ENDTRY.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="WRITE_FUNCTION" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20100604" MTDNEWEXC="X" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="Write function to SAP System"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="FUNC" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100604" TYPTYPE="1" TYPE="TS_FMD_FUNC"/>
     </PARAMETERS>
     <EXCEPTIONS>
      <ITEM SCONAME="ZAPLINK_CX_CONNECTOR" VERSION="1" LANGU="E" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100604">
       <TEXTS>
        <ITEM LANG="E" TEXT="ZAPlink ROOT Exception for Connectors"/>
       </TEXTS>
      </ITEM>
     </EXCEPTIONS>
     <SOURCE>`
  DATA t_doc       TYPE STANDARD TABLE OF rsfdo WITH DEFAULT KEY.
  DATA t_src       TYPE STANDARD TABLE OF rssource WITH DEFAULT KEY.

  TRY.
    CALL FUNCTION &apos;RPY_FUNCTIONMODULE_INSERT&apos;
      EXPORTING
        funcname                      = func-header-name
        function_pool                 = func-header-str_area
        interface_global              = func-header-global
        remote_call                   = func-header-remote
        short_text                    = space
        suppress_corr_check           = abap_false
        update_task                   = func-header-utask
*        CORRNUM                       = &apos; &apos;
*        NAMESPACE                     = &apos; &apos;
*        NEW_SOURCE                    =
*      IMPORTING
*        FUNCTION_INCLUDE              =
      TABLES
        import_parameter              = func-import_p
        export_parameter              = func-export_p
        tables_parameter              = func-tables
        changing_parameter            = func-changing_p
        exception_list                = func-exceptions
        parameter_docu                = t_doc
        SOURCE                        = t_src
      EXCEPTIONS
        double_task                   = 1
        error_message                 = 2
        function_already_exists       = 3
        invalid_function_pool         = 4
        invalid_name                  = 5
        too_many_functions            = 6
        no_modify_permission          = 7
        no_show_permission            = 8
        enqueue_system_failure        = 9
        canceled_in_corr              = 10
        OTHERS                        = 11.
    IF sy-subrc &lt;&gt; 0.
      ROLLBACK WORK.
      mac_add_mf_and_raise &apos;RPY_FUNCTIONMODULE_INSERT&apos; sy-subrc.
    ENDIF.
    MODIFY tftit FROM TABLE func-texts.
    MODIFY funct FROM TABLE func-param_texts.

    mac_def_catch zaplink_cx_connector.
  ENDTRY.</SOURCE>
    </ITEM>
   </METHODS>
   <REDEFINITIONS>
    <ITEM REFCLSNAME="ZAPLINK_CONNECTOR_" VERSION="1" MTDNAME="ZAPLINK_CNX_EXT_CLEANER~ANONYMIZE">
     <SOURCE>`
  DATA o_group    TYPE to_group.
  DATA o_function TYPE to_function.

  CHECK object IS BOUND.

  CASE object-&gt;type.
    WHEN supportedtypes-group.
      o_group ?= object-&gt;raw.
      o_group-&gt;anonymize( ).
    WHEN supportedtypes-function.
      o_function ?= object-&gt;raw.
      o_function-&gt;anonymize( ).
    WHEN OTHERS.
       mac_raise_type_not_supported me-&gt;class_name object-&gt;type.
  ENDCASE.

  TRY.
      super-&gt;zaplink_cnx_ext_cleaner~anonymize( object ).
    CATCH zaplink_cx_connector INTO o_mycx.
      RAISE EXCEPTION o_mycx.
  ENDTRY.</SOURCE>
    </ITEM>
    <ITEM REFCLSNAME="ZAPLINK_CONNECTOR_" VERSION="1" MTDNAME="ZAPLINK_CNX_EXT_CLEANER~UNANONYMIZE">
     <SOURCE>`
*  DATA o_prog TYPE to_program.
*
*  TRY.
*      super-&gt;zaplink_cnx_ext_cleaner~unanonymize( object ).
*    CATCH zaplink_cx_connector INTO o_mycx.
*      RAISE EXCEPTION o_mycx.
*  ENDTRY.
*
*  o_prog ?= object-&gt;raw.
*  o_prog-&gt;A0_MAINDATA-CNAM = sy-uname.
**    o_prog-&gt;A0_MAINDATA-CDAT,
**    o_prog-&gt;A0_MAINDATA-UNAM,
**    o_prog-&gt;A0_MAINDATA-UDAT,
**    o_prog-&gt;A0_MAINDATA-SDATE,
**    o_prog-&gt;A0_MAINDATA-STIME,
**    o_prog-&gt;A0_MAINDATA-IDATE,
**    o_prog-&gt;A0_MAINDATA-ITIME.</SOURCE>
    </ITEM>
    <ITEM REFCLSNAME="ZAPLINK_CONNECTOR_" VERSION="1" MTDNAME="ZAPLINK_CNX_EXT_CODE_SIGNATURE~GET_SIGNATURE">
     <SOURCE>`
  DATA d_group TYPE td_functiongroup_name.
  DATA d_func  TYPE td_function_name.
  DATA d_type  TYPE td_comptype.

  TRY.
    d_type = component-&gt;get_type( ).
    CASE d_type.
      WHEN supportedtypes-group.
        d_group = component-&gt;get_name( ).
        result = get_group_signature( d_group ).
      WHEN supportedtypes-function.
        d_func = component-&gt;get_name( ).
        result = get_function_signature( d_func ).
      WHEN OTHERS.
        mac_raise_type_not_supported me-&gt;class_name d_type.
    ENDCASE.

    mac_def_catch zaplink_cx_connector.
  ENDTRY.</SOURCE>
    </ITEM>
    <ITEM REFCLSNAME="ZAPLINK_CONNECTOR_" VERSION="1" MTDNAME="ZAPLINK_CONNECTOR~CREATE_NEW_RAW">
     <SOURCE>`
  DATA o_group    TYPE to_group.
  DATA o_function TYPE to_function.
  DATA o_raw_func TYPE to_raw_function.

  CASE type.
    WHEN supportedtypes-group.
      CREATE OBJECT object.
      CREATE OBJECT o_group.
      object-&gt;raw = o_group.
    WHEN supportedtypes-function.
      CREATE OBJECT o_raw_func.
      object = o_raw_func.
      CREATE OBJECT o_function.
      object-&gt;raw = o_function.
    WHEN OTHERS.
      CLEAR object.
      mac_raise_type_not_supported me-&gt;class_name type.
  ENDCASE.</SOURCE>
    </ITEM>
    <ITEM REFCLSNAME="ZAPLINK_CONNECTOR_" VERSION="1" MTDNAME="ZAPLINK_CONNECTOR~DELETE_FROM_SAP">
     <SOURCE>`
  DATA pool   TYPE rs38l-area.
  DATA d_func TYPE rs38l-name.
  DATA type   TYPE td_comptype.

  TRY.
    type = component-&gt;get_type( ).
    CASE type.
      WHEN supportedtypes-function.
        d_func = component-&gt;get_name( ).
        CALL FUNCTION &apos;RS_FUNCTION_DELETE&apos;
          EXPORTING
            funcname                 = d_func
            suppress_popups          = abap_true
*            SUPPRESS_CHECKS          = &apos; &apos;
*            SUPPRESS_DELE_ENHA       = &apos; &apos;
*            TRREQUEST                =
          EXCEPTIONS
            cancelled                = 1
            function_released        = 2
            OTHERS                   = 3.
        IF sy-subrc &lt;&gt; 0.
          mac_add_mf_and_raise &apos;RS_FUNCTION_DELETE&apos; sy-subrc.
        ENDIF.
      WHEN supportedtypes-group.
        pool = component-&gt;get_name( ).
        CALL FUNCTION &apos;FUNCTION_POOL_DELETE&apos;
          EXPORTING
            pool              = pool
            skip_progress_ind = &apos;X&apos;
          EXCEPTIONS
            functions_exists  = 1
            not_found         = 0
            OTHERS            = 3.
        IF sy-subrc &lt;&gt; 0.
          mac_add_mf_and_raise &apos;FUNCTION_POOL_DELETE&apos; sy-subrc.
        ENDIF.
      WHEN OTHERS.
        mac_raise_type_not_supported me-&gt;class_name type.
    ENDCASE.

    mac_def_catch zaplink_cx_connector.
  ENDTRY.

  result = abap_true.</SOURCE>
    </ITEM>
    <ITEM REFCLSNAME="ZAPLINK_CONNECTOR_" VERSION="1" MTDNAME="ZAPLINK_CONNECTOR~DO_EXISTS">
     <SOURCE>`
  DATA d_group    TYPE td_functiongroup_name.
  DATA d_function TYPE TD_FUNCTION_NAME.
  DATA type       TYPE td_comptype.

  exists = me-&gt;exists-not_exists.

  TRY.
    type = component-&gt;get_type( ).
    CASE type.
      WHEN supportedtypes-group.
        d_group = component-&gt;get_name( ).
        CALL FUNCTION &apos;RS_FUNCTION_POOL_EXISTS&apos;
          EXPORTING
            function_pool   = d_group
          EXCEPTIONS
            pool_not_exists = 1
            OTHERS          = 2.
        IF sy-subrc = 0.    exists = me-&gt;exists-exists.   ENDIF.
      WHEN supportedtypes-function.
        d_function = component-&gt;get_name( ).
        CALL FUNCTION &apos;FUNCTION_EXISTS&apos;
          EXPORTING
            funcname                 = d_function
*         IMPORTING
*           GROUP                    =
*           INCLUDE                  =
*           NAMESPACE                =
*           STR_AREA                 =
          EXCEPTIONS
            FUNCTION_NOT_EXIST       = 1
            OTHERS                   = 2.
        IF sy-subrc = 0.    exists = me-&gt;exists-exists.   ENDIF.
      WHEN OTHERS.
        mac_raise_type_not_supported me-&gt;class_name type.
    ENDCASE.

    mac_def_catch zaplink_cx_connector.
  ENDTRY.</SOURCE>
    </ITEM>
    <ITEM REFCLSNAME="ZAPLINK_CONNECTOR_" VERSION="1" MTDNAME="ZAPLINK_CONNECTOR~IS_SUPPORTED_VERSION">
     <SOURCE>`
  result = abap_false.
  if version = _ver.
    result = abap_true.
  endif.</SOURCE>
    </ITEM>
    <ITEM REFCLSNAME="ZAPLINK_CONNECTOR_" VERSION="1" MTDNAME="ZAPLINK_CONNECTOR~READ_FROM_SAP">
     <SOURCE>`
  DATA o_group    TYPE to_group.
  DATA o_function TYPE to_function.
  DATA s_fmd_fugr TYPE ts_fmd_fugr.
  DATA s_fmd_func TYPE ts_fmd_func.
  DATA d_name     TYPE td_compname.
  DATA type       TYPE td_comptype.
  DATA d_mainprog TYPE td_progname.
  DATA d_soft_comp TYPE tdevc-dlvunit.
  DATA t_functions TYPE tt_rs38l_incl.
*  DATA s_func LIKE LINE OF s_fmd_fugr-functions.
*  DATA t_doc TYPE STANDARD TABLE OF rsfdo WITH DEFAULT KEY.
*  DATA t_src TYPE STANDARD TABLE OF rssource WITH DEFAULT KEY.
*  DATA t_tmp_doc TYPE tt_docs.
  DATA d_doc TYPE doku_obj.
*  DATA s_doc_param TYPE zaplink_fugr_data=&gt;ts_doc_param.
*    BEGIN OF s_doc_param,
*      func   TYPE rs38l_fnam,
*      param TYPE rs38l_par_,
*    END OF s_doc_param.
  FIELD-SYMBOLS:
    &lt;f&gt; LIKE LINE OF t_functions.

  TRY.
    type = component-&gt;get_type( ).
    CREATE OBJECT object.
    object-&gt;set_component( component ).
    CASE type.
      WHEN supportedtypes-function.
        s_fmd_func-header-name = object-&gt;name.
        s_fmd_func = read_function( s_fmd_func-header-name ).
        s_fmd_func-code_signature = calc_function_signature( s_fmd_func ).
        CREATE OBJECT o_function.
        o_function-&gt;from_data( s_fmd_func ).
        CLEAR o_function-&gt;a0_maindata-name.
        object-&gt;raw = o_function.
      WHEN supportedtypes-group.
        s_fmd_fugr-header-area = d_name = object-&gt;name.
        CALL FUNCTION &apos;RS_FUNCTION_POOL_CONTENTS&apos;
          EXPORTING
            function_pool           = s_fmd_fugr-header-area
          TABLES
            functab                 = t_functions
          EXCEPTIONS
            function_pool_not_found = 1
            OTHERS                  = 2.
        IF sy-subrc &lt;&gt; 0.
          mac_add_mf_and_raise &apos;RS_FUNCTION_POOL_CONTENTS&apos; sy-subrc.
        ENDIF.

        d_doc = d_mainprog = get_mainprogram( s_fmd_fugr-header-area ).
        s_fmd_fugr-docs = zaplink_documentation=&gt;get( ids = zaplink_fugr_data=&gt;r_doc_ids-group
                                                  object = d_doc  ).

        SELECT * INTO TABLE s_fmd_fugr-texts FROM tlibt WHERE area = s_fmd_fugr-header-area.
* Issue 95
*        SELECT * INTO TABLE s_fmd_fugr-function_texts FROM tftit FOR ALL ENTRIES IN t_functions WHERE funcname = t_functions-funcname.
*        SELECT * INTO TABLE s_fmd_fugr-param_texts FROM funct FOR ALL ENTRIES IN t_functions WHERE funcname = t_functions-funcname.
        LOOP AT t_functions ASSIGNING &lt;f&gt;.
          s_fmd_func = read_function( &lt;f&gt;-funcname ).   clear s_fmd_func-header-str_area.
          s_fmd_func-code_signature = calc_function_signature( s_fmd_func ).
          INSERT s_fmd_func INTO TABLE s_fmd_fugr-functions.
        ENDLOOP.

        SELECT SINGLE dlvunit INTO d_soft_comp
          FROM v_tralan
          WHERE pgmid = supportedkinds-group
            AND object = supportedtypes-group
            AND obj_name = s_fmd_fugr-header-area.

        s_fmd_fugr-includes = get_all_includes( s_fmd_fugr-header-area ).

*          s_fmd_fugr-includes = remove_unwanted_includes( includes = s_fmd_fugr-includes
*                                                        functions = t_functions
*                                                        soft_comp = d_soft_comp ).

* Texts Pool
        s_fmd_fugr-textspool = get_prog_textpool( d_mainprog ).

* Dynpro
        s_fmd_fugr-dynpros = get_dynpros( d_mainprog ).

* Menu Painter
        s_fmd_fugr-menupainter = get_menus( d_mainprog ).
** Documentation
**      CONCATENATE _name &apos;*&apos; INTO _obj. &quot; Issue:7
*          s_obj-prog = _name.
*          s_obj-wildcard = &apos;*&apos;.
*          _obj = s_obj.
**Issue:7
*          o_group-&gt;documentation = zaplink_documentation=&gt;get( ids = r_doc_id
*                                                          object = _obj ).
        CREATE OBJECT o_group.
        o_group-&gt;from_data( s_fmd_fugr ).
        o_group-&gt;_code_signature = get_group_signature( o_group-&gt;a0_maindata-area ).
        CLEAR o_group-&gt;a0_maindata-area.
        object-&gt;raw = o_group.
      WHEN OTHERS.
        CLEAR object.
        mac_raise_type_not_supported me-&gt;class_name type.
    ENDCASE.
    object-&gt;update_connector_data( me ).                    &quot; Issue 66
    mac_def_catch zaplink_cx_connector.
  ENDTRY.</SOURCE>
    </ITEM>
    <ITEM REFCLSNAME="ZAPLINK_CONNECTOR_" VERSION="1" MTDNAME="ZAPLINK_CONNECTOR~WRITE_TO_SAP">
     <SOURCE>`
  DATA o_group     TYPE to_group.
  DATA o_function  TYPE to_function.
  DATA s_fmd_fugr  TYPE ts_fmd_fugr.
  DATA s_fmd_func  TYPE ts_fmd_func.
  DATA _comp       TYPE to_component.
  DATA d_pname     TYPE tfdir-pname.
  DATA d_group     TYPE rs38l-area.
  DATA _name       TYPE td_compname.
  DATA d_mainprog  TYPE td_progname.
  DATA t_functions TYPE tt_rs38l_incl.
  DATA d_msg       TYPE string.
  DATA d_answer    TYPE c.
  DATA t_doc       TYPE STANDARD TABLE OF rsfdo WITH DEFAULT KEY.
  DATA t_src       TYPE STANDARD TABLE OF rssource WITH DEFAULT KEY.
  DATA t_params    TYPE STANDARD TABLE OF spar WITH DEFAULT KEY.
  DATA s_param     LIKE LINE OF t_params.
  FIELD-SYMBOLS:
    &lt;fi&gt; LIKE LINE OF t_functions,
    &lt;f&gt;  LIKE LINE OF s_fmd_fugr-functions.

  TRY.
      CREATE OBJECT components.
      CASE object-&gt;type.
        WHEN supportedtypes-function.
          o_function ?= object-&gt;raw.
          o_function-&gt;a0_maindata-name = object-&gt;name.
          s_fmd_func = o_function-&gt;to_data( ).

          del_function( s_fmd_func ).
          write_function( s_fmd_func ).
          CALL FUNCTION &apos;RS_FUNCTION_POOL_CONTENTS&apos;
            EXPORTING
              function_pool           = s_fmd_func-header-str_area
            TABLES
              functab                 = t_functions
            EXCEPTIONS
              function_pool_not_found = 1
              OTHERS                  = 2.
          IF sy-subrc &lt;&gt; 0.
            ROLLBACK WORK.
            mac_add_mf_and_raise &apos;RS_FUNCTION_POOL_CONTENTS&apos; sy-subrc.
          ENDIF.
          READ TABLE t_functions ASSIGNING &lt;fi&gt; WITH KEY funcname = s_fmd_func-header-name.
          IF sy-subrc &lt;&gt; 0. mac_add_mf_and_raise &apos;RS_FUNCTION_POOL_CONTENTS&apos; 2. ENDIF.
          set_prog_rawsource( program = &lt;fi&gt;-include
                                  raw = s_fmd_func-source ).

        WHEN supportedtypes-group.
          o_group ?= object-&gt;raw.
          o_group-&gt;a0_maindata-area = object-&gt;name.
          s_fmd_fugr = o_group-&gt;to_data( ).
          d_mainprog = get_mainprogram( s_fmd_fugr-header-area ).

          CALL FUNCTION &apos;RS_FUNCTION_POOL_DELETE&apos;
            EXPORTING
              area                         = s_fmd_fugr-header-area
*             CORRNUM                      = &apos; &apos;
*             TEXT                         = &apos; &apos;
*             UNAME                        = &apos; &apos;
*             WITH_KORR                    = &apos;X&apos;
*             WB_FB_MANAGER                =
              suppress_popups              = abap_true
              skip_progress_ind            = abap_true
*           IMPORTING
*             E_CORRNUM                    =
            EXCEPTIONS
              canceled_in_corr             = 1
              enqueue_system_failure       = 2
              function_exist               = 3
              not_executed                 = 4
              no_modify_permission         = 5
              no_show_permission           = 6
              permission_failure           = 7
              pool_not_exist               = 0
              cancelled                    = 9
              OTHERS                       = 10.
          IF sy-subrc &lt;&gt; 0.
            mac_add_mf_and_raise &apos;RS_FUNCTION_POOL_DELETE&apos; sy-subrc.
          ENDIF.
          IF sy-batch = abap_false.   &quot;only delete in foreground
            LOOP AT s_fmd_fugr-functions ASSIGNING &lt;f&gt;.
              del_function( &lt;f&gt; ).
            ENDLOOP.
          ENDIF.

          CALL FUNCTION &apos;RS_FUNCTION_POOL_INSERT&apos;
            EXPORTING
              function_pool                 = s_fmd_fugr-header-area
              short_text                    = space
*             RESPONSIBLE                   = SY-UNAME
*             NAMESPACE                     = &apos; &apos;
*             DEVCLASS                      =
*             CORRNUM                       =
*             SUPPRESS_LANGUAGE_CHECK       = &apos;X&apos;
*             AUTHORITY_CHECK               = &apos;X&apos;
*             SUPPRESS_CORR_CHECK           = &apos;X&apos;
*             UNICODE_CHECKS                = &apos;X&apos;
*           IMPORTING
*             CORRNUM                       =
            EXCEPTIONS
              name_already_exists           = 1
              name_not_correct              = 2
              function_already_exists       = 3
              invalid_function_pool         = 4
              invalid_name                  = 5
              too_many_functions            = 6
              no_modify_permission          = 7
              no_show_permission            = 8
              enqueue_system_failure        = 9
              canceled_in_corr              = 10
              undefined_error               = 11
              OTHERS                        = 12.
          IF sy-subrc &lt;&gt; 0.
            ROLLBACK WORK.
            mac_add_mf_and_raise &apos;RS_FUNCTION_POOL_INSERT&apos; sy-subrc.
          ENDIF.

          LOOP AT s_fmd_fugr-functions ASSIGNING &lt;f&gt;.
            write_function( &lt;f&gt; ).
          ENDLOOP.

          CALL FUNCTION &apos;RS_FUNCTION_POOL_CONTENTS&apos;
            EXPORTING
              function_pool           = s_fmd_fugr-header-area
            TABLES
              functab                 = t_functions
            EXCEPTIONS
              function_pool_not_found = 1
              OTHERS                  = 2.
          IF sy-subrc &lt;&gt; 0.
            ROLLBACK WORK.
            mac_add_mf_and_raise &apos;RS_FUNCTION_POOL_CONTENTS&apos; sy-subrc.
          ENDIF.

          LOOP AT s_fmd_fugr-functions ASSIGNING &lt;f&gt;.
            READ TABLE t_functions ASSIGNING &lt;fi&gt;
                 WITH KEY funcname = &lt;f&gt;-header-name.
            IF sy-subrc &lt;&gt; 0.
              ROLLBACK WORK.
              mac_add_mf_and_raise &apos;RS_FUNCTIONMODULE_INSERT&apos; 12.
            ENDIF.
            set_prog_rawsource( program = &lt;fi&gt;-include
                                    raw = &lt;f&gt;-source ).
          ENDLOOP.

* Text Pool
          set_prog_textpool( program = d_mainprog
                            textpool = s_fmd_fugr-textspool ).
* Dynpro
          set_dynpros( program = d_mainprog
                       dynpros = s_fmd_fugr-dynpros ).

* Menu Painter
          set_menus( program = d_mainprog
                       menus = s_fmd_fugr-menupainter ).

*Texts
          DELETE FROM tlibt WHERE area = s_fmd_fugr-header-area.
          MODIFY tlibt FROM TABLE s_fmd_fugr-texts.

          MODIFY tftit FROM TABLE s_fmd_fugr-function_texts.
          MODIFY funct FROM TABLE s_fmd_fugr-param_texts.

** Documentation
*          zaplink_documentation=&gt;set( t_docs = o_group-&gt;documentation ).

        WHEN OTHERS.
          mac_raise_type_not_supported me-&gt;class_name object-&gt;type.
      ENDCASE.
      _comp = object-&gt;get_component( abap_true ).
      TRY.  components-&gt;add( _comp ).  CATCH zaplink_cx_list.  ENDTRY.    &quot; Issue 92

    CATCH zaplink_cx_connector INTO o_mycx.
      ROLLBACK WORK.
      RAISE EXCEPTION o_mycx.
    CATCH zaplink_cx INTO o_cx.
      ROLLBACK WORK.
      mac_cascade_raise o_mycx o_cx.
  ENDTRY.</SOURCE>
    </ITEM>
   </REDEFINITIONS>
   <TEXTSPOOL>
    <ITEM ID="I" KEY="D00">
     <TEXTS>
      <ITEM LANGU="E" ENTRY="Confirm module function deletion" LENGTH="50 "/>
     </TEXTS>
    </ITEM>
    <ITEM ID="I" KEY="HNO">
     <TEXTS>
      <ITEM LANGU="E" ENTRY="Function is not deleted and process to next existing function. Function group will be created without this function." LENGTH="132 "/>
     </TEXTS>
    </ITEM>
    <ITEM ID="I" KEY="HYE">
     <TEXTS>
      <ITEM LANGU="E" ENTRY="Function is deleted. Function group will be created with this function." LENGTH="132 "/>
     </TEXTS>
    </ITEM>
    <ITEM ID="I" KEY="NO_">
     <TEXTS>
      <ITEM LANGU="E" ENTRY="No" LENGTH="15 "/>
     </TEXTS>
    </ITEM>
    <ITEM ID="I" KEY="YES">
     <TEXTS>
      <ITEM LANGU="E" ENTRY="Yes" LENGTH="15 "/>
     </TEXTS>
    </ITEM>
   </TEXTSPOOL>
   <TYPEGROUPS>
    <ITEM TYPEGROUP="ABAP" VERSION="1" EXPLICIT="X"/>
   </TYPEGROUPS>
   <TYPES>
    <ITEM CMPNAME="TD_FUNCTIONGROUP_NAME" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100416" CHANGEDBY="TBENSIAL" CHANGEDON="20100416" TYPTYPE="1" TYPE="TLIBG-AREA" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="Function group, to which the function module belongs"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TD_FUNCTION_NAME" VERSION="1" EXPOSURE="2" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100528" TYPTYPE="1" TYPE="RS38L-NAME" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="Name of Function Module"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TD_INCLUDENAME" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20100308" CHANGEDBY="TBENSIAL" CHANGEDON="20100603" TYPTYPE="1" TYPE="ZAPLINK_FUGR_DATA=&gt;TD_INCLUDENAME"/>
    <ITEM CMPNAME="TO_FUNCTION" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100528" CHANGEDBY="TBENSIAL" CHANGEDON="20100603" TYPTYPE="3" TYPE="ZAPLINK_FUNC_DATA">
     <TEXTS>
      <ITEM LANG="E" TEXT="Commun Data for Class &amp; Interface"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TO_GROUP" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100603" TYPTYPE="3" TYPE="ZAPLINK_FUGR_DATA">
     <TEXTS>
      <ITEM LANG="E" TEXT="Data for Function group"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TO_RAW_FUNCTION" VERSION="1" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100623" TYPTYPE="1" TYPE="ZAPLINK_FUGR_DATA=&gt;TO_FUNCTION" R3RELEASE="700"/>
    <ITEM CMPNAME="TS_FMD_FUGR" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="5 " AUTHOR="TBENSIAL" CREATEDON="20100528" CHANGEDBY="TBENSIAL" CHANGEDON="20100603" TYPTYPE="1" TYPE="ZAPLINK_FUGR_DATA=&gt;TS_FM_DATA"/>
    <ITEM CMPNAME="TS_FMD_FUNC" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="6 " AUTHOR="TBENSIAL" CREATEDON="20100528" CHANGEDBY="TBENSIAL" CHANGEDON="20100603" TYPTYPE="1" TYPE="ZAPLINK_FUNC_DATA=&gt;TS_FM_DATA"/>
    <ITEM CMPNAME="TS_PROG_ATTR" VERSION="1" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">
     BEGIN OF ts_prog_attr.
  INCLUDE TYPE ts_base_attributs AS base.
  TYPES:
    END OF ts_prog_attr
`
     <TEXTS>
      <ITEM LANG="E" TEXT="Program Attributs"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TS_SOURCE" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="5 " AUTHOR="TBENSIAL" CREATEDON="20100304" TYPTYPE="1" TYPE="STRING" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="ABAP Source code"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TS_TEXT" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4" R3RELEASE="700">begin of ts_text,
      langu   type SPRAS,
      ENTRY	  type TEXTPOOLTX,
      LENGTH  type TEXTPOOLLN,
    end of ts_text</ITEM>
    <ITEM CMPNAME="TS_TEXTPOOL" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4" R3RELEASE="700">begin of ts_textpool,
      ID    type  TEXTPOOLID,
      KEY	  type  TEXTPOOLKY,
      texts type  tt_texts,
    end of ts_textpool</ITEM>
    <ITEM CMPNAME="TT_INCLUDES" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100603" TYPTYPE="1" TYPE="ZAPLINK_FUGR_DATA=&gt;TT_RAWINCLUDES"/>
    <ITEM CMPNAME="TT_RS38L_INCL" VERSION="1" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100308" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4">
     TT_RS38L_INCL type STANDARD TABLE OF rs38l_incl with DEFAULT KEY
`
     <TEXTS>
      <ITEM LANG="E" TEXT="standard table of rs38l_incl"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TT_TEXTPOOLS" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4" R3RELEASE="700">
     TT_TEXTPOOLs type SORTED TABLE OF ts_textpool WITH UNIQUE key ID KEY
     <TEXTS>
      <ITEM LANG="E" TEXT="Table of textppool"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TT_TEXTS" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100304" CHANGEDBY="TBENSIAL" CHANGEDON="20100623" TYPTYPE="4" R3RELEASE="700">tt_texts type SORTED TABLE OF ts_text WITH UNIQUE KEY langu</ITEM>
    <ITEM CMPNAME="T_RAW" VERSION="1" EXPOSURE="2" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100304" TYPTYPE="1" TYPE="RSWSOURCET" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="ABAP Source"/>
     </TEXTS>
    </ITEM>
   </TYPES>
  </RAW>
 </ZL_OBJECT>
 <ZL_OBJECT CHECKSUM="6AB0EC58CCCA507654BA519E6FCBD4CB" CODE_SIGNATURE="B9639E737B91932469AED4112E4F7607" CONNECTOR="39AC0A4B07A5A05AE1000000AC120173" NAME="ZAPLINK_FUNC_DATA" TYPE="CLAS" VERSION="1.01">
  <DIRECTORY SRCSYSTEM="OD4" AUTHOR="TBENSIAL" DEVCLASS="ZAPLINK-CONNECTORS-MAIN" MASTERLANG="E"/>
  <RAW>
   <A0_MAINDATA VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100527" CLSCCINCL="X" FIXPT="X" UNICODE="X" R3RELEASE="700">
    <INHERITANCE REFCLSNAME="ZAPLINK_RAW_DATA" VERSION="1" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100527"/>
    <TEXTS>
     <ITEM LANG="E" TEXT="Commun Data for Class &amp; Interface">U1&amp;FUNCTIONALITY&amp;
ASIs part of connector : ZAPLINK_FUNCTION_GROUP
ASDefine XML structure of a Function group
U1&amp;RELATIONS&amp;
AS
U1&amp;EXAMPLE&amp;
AS
U1&amp;HINTS&amp;
AS
U1&amp;FURTHER_SOURCES_OF_INF&amp;
AS
U1Memories
ASThis application is dedicated to the memories of :
B2My father : Lamri BENSIALI (1940-2004) without whom I never started
  programming
B2My uncle : Jacky BEDU (1934-2009) who died during the completion of this
  application</ITEM>
    </TEXTS>
   </A0_MAINDATA>
   <ALIASES>
    <ITEM CMPNAME="LINE_SEPARATOR" VERSION="1" EXPOSURE="2" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="LINE_SEPARATOR"/>
    <ITEM CMPNAME="TD_ABAPSOURCE" VERSION="1" EXPOSURE="2" CMPTYPE="3" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="TD_ABAPSOURCE"/>
    <ITEM CMPNAME="TD_CHECKSUM" VERSION="1" EXPOSURE="2" CMPTYPE="3" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="TD_CHECKSUM"/>
    <ITEM CMPNAME="TD_DOC_ID" VERSION="1" EXPOSURE="1" CMPTYPE="3" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="TD_DOC_ID"/>
    <ITEM CMPNAME="TR_DOCID" VERSION="1" EXPOSURE="1" CMPTYPE="3" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="TR_DOCID"/>
    <ITEM CMPNAME="TT_ABAPRAWSOURCE" VERSION="1" EXPOSURE="2" CMPTYPE="3" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="TT_ABAPRAWSOURCE"/>
    <ITEM CMPNAME="TT_DOCS" VERSION="1" EXPOSURE="2" CMPTYPE="3" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="TT_DOCS"/>
    <ITEM CMPNAME="TT_DYNPROS" VERSION="1" EXPOSURE="2" CMPTYPE="3" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="TT_DYNPROS"/>
    <ITEM CMPNAME="TT_TEXTS" VERSION="1" EXPOSURE="2" CMPTYPE="3" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="TT_TEXTS"/>
    <ITEM CMPNAME="TT_TXTP_TEXTPOOLS" VERSION="1" EXPOSURE="2" CMPTYPE="3" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="TT_TXTP_TEXTPOOLS"/>
   </ALIASES>
   <ATTRIBUTS>
    <ITEM CMPNAME="A0_MAINDATA" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="1" TYPE="TS_MAINDATA">
     <TEXTS>
      <ITEM LANG="E" TEXT="Program main data"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="DOC_IDS" VERSION="1" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100527" ATTDECLTYP="2" TYPTYPE="4" R3RELEASE="700">BEGIN OF DOC_IDS,
      group     TYPE td_doc_id VALUE &apos;RE&apos;,    &quot; Report
      function  TYPE td_doc_id VALUE &apos;FU&apos;,
    END OF DOC_IDS
`</ITEM>
    <ITEM CMPNAME="EXCEPTIONS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="6 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="1" TYPE="TT_EXCEPTIONS"/>
    <ITEM CMPNAME="MARKUPS" VERSION="1" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100527" ATTDECLTYP="2" TYPTYPE="4" R3RELEASE="700">
     BEGIN OF markups,
      area TYPE string VALUE &apos;[FUNCTIONGROUP NAME]&apos;,
    END OF markups
`
     <TEXTS>
      <ITEM LANG="E" TEXT="Markups for replacements"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="PARAMETERS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="5 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="1" TYPE="TT_PARAMS"/>
    <ITEM CMPNAME="PARAMETER_KINDS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" ATTDECLTYP="2" TYPTYPE="4">BEGIN OF parameter_kinds,
      importing   TYPE td_paramkind VALUE &apos;I&apos;,
      changing    TYPE td_paramkind VALUE &apos;C&apos;,
      exporting   TYPE td_paramkind VALUE &apos;E&apos;,
      table       TYPE td_paramkind VALUE &apos;T&apos;,
*      exceptions  type td_paramkind value &apos;X&apos;,
    END OF parameter_kinds
`</ITEM>
    <ITEM CMPNAME="R_DOC_IDS" VERSION="1" STATE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100527" ATTDECLTYP="1" TYPTYPE="4" R3RELEASE="700">
     BEGIN OF R_DOC_IDS,
      group    TYPE TR_DOCID,
      function TYPE TR_DOCID,
    END OF R_DOC_IDS
`
     <TEXTS>
      <ITEM LANG="E" TEXT="Documentation Object"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="SOURCE" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="1" TYPE="TS_SOURCE">
     <TEXTS>
      <ITEM LANG="E" TEXT="ABAP Source code"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="SUFFIXES" VERSION="1" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100527" ATTDECLTYP="2" TYPTYPE="4" R3RELEASE="700">
     BEGIN OF suffixes,
      top TYPE rs38l-suffix VALUE &apos;TOP&apos;,
    END OF suffixes
`
     <TEXTS>
      <ITEM LANG="E" TEXT="Special suffixes"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TEXTS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="1" TYPE="TT_TEXTS"/>
   </ATTRIBUTS>
   <FRIENDS>
    <ITEM REFCLSNAME="ZAPLINK_EASYXML" VERSION="1" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100527"/>
    <ITEM REFCLSNAME="ZAPLINK_FUGR_DATA" VERSION="1" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100527"/>
    <ITEM REFCLSNAME="ZAPLINK_FUNCTION_GROUP" VERSION="1" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100527"/>
    <ITEM REFCLSNAME="ZAPLINK_FUNC_RAW" VERSION="1" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100527"/>
   </FRIENDS>
   <INTERFACES>
    <ITEM REFCLSNAME="ZAPLINK_DATATYPES" VERSION="1" EXPOSURE="2" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100527" RELTYPE="1"/>
   </INTERFACES>
   <LOCAL>
    <TYPES>`
*&quot;* USE THIS SOURCE FILE FOR ANY TYPE DECLARATIONS (CLASS
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</TYPES>
    <IMPLEMENTATIONS>`
*&quot;* LOCAL CLASS IMPLEMENTATION FOR PUBLIC CLASS
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</IMPLEMENTATIONS>
    <MACROS>`
*&quot;* USE THIS SOURCE FILE FOR ANY MACRO DEFINITIONS YOU NEED
*&quot;* in the implementation part of the class</MACROS>
   </LOCAL>
   <METHODS>
    <ITEM CMPNAME="ANONYMIZE" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604">
     <TEXTS>
      <ITEM LANG="E" TEXT="Anonymized component data"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="CLASS_CONSTRUCTOR" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100527" MTDTYPE="2" MTDDECLTYP="1" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="CLASS_CONSTRUCTOR"/>
     </TEXTS>
     <SOURCE>`
*&apos;FU&apos;
*table TDCLT
*DOKCLASS DOKTITEL
*FU       Function
*RE       Report/Function Group, Logical DB                            Program/module pool
  DATA _id LIKE LINE OF r_doc_ids-group.

  _id-sign = &apos;I&apos;.
  _id-option = &apos;EQ&apos;.
  _id-low = doc_ids-group.      APPEND _id TO r_doc_ids-group.
  _id-low = doc_ids-function.   APPEND _id TO r_doc_ids-function.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="FROM_DATA" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604">
     <TEXTS>
      <ITEM LANG="E" TEXT="Convert FM Data to object attributes"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="FM_DATA" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" PARPASSTYP="1" TYPTYPE="1" TYPE="TS_FM_DATA">
       <TEXTS>
        <ITEM LANG="E" TEXT="Function Modules object Data"/>
       </TEXTS>
      </ITEM>
     </PARAMETERS>
     <SOURCE>`
  DATA s_txt     LIKE LINE OF texts.
  DATA s_param   LIKE LINE OF parameters.
  DATA s_excep   LIKE LINE OF exceptions.
  DATA d_suffix  TYPE rs38l-suffix.
  DATA d_group   TYPE rs38l-area.
  DATA t_abapsrc TYPE tt_abaprawsource.
  DATA d_search  TYPE string.
  DATA d_replace TYPE string.
  DATA d_lcount  TYPE i.
  DATA d_doc     TYPE doku_obj.
  DATA d_doc_p   TYPE ts_doc_param.
  DATA t_docs    TYPE tt_docs.
  FIELD-SYMBOLS:
    &lt;d&gt;  LIKE LINE OF fm_data-docs,
    &lt;dt&gt; LIKE LINE OF &lt;d&gt;-texts,
    &lt;t&gt;  LIKE LINE OF fm_data-texts,
    &lt;s&gt;  LIKE LINE OF fm_data-source,
    &lt;im&gt; LIKE LINE OF fm_data-import_p,
    &lt;ch&gt; LIKE LINE OF fm_data-changing_p,
    &lt;ex&gt; LIKE LINE OF fm_data-export_p,
    &lt;pa&gt; LIKE LINE OF parameters,
    &lt;pt&gt; LIKE LINE OF fm_data-param_texts,
    &lt;cx&gt; LIKE LINE OF fm_data-exceptions,
    &lt;ta&gt; LIKE LINE OF fm_data-tables.

  MOVE-CORRESPONDING fm_data-header TO a0_maindata.
  _code_signature = fm_data-code_signature.

*  d_doc = zaplink_function_group=&gt;get_mainprogram( fm_data-header-area ).
*  t_docs = fm_data-docs.
*  READ TABLE t_docs ASSIGNING &lt;d&gt;
*       WITH KEY id = doc_ids-group
*            object = d_doc.
*  LOOP AT fm_data-texts ASSIGNING &lt;t&gt;.
*    CLEAR s_txt.    s_txt-langu = &lt;t&gt;-spras.   s_txt-short_txt = &lt;t&gt;-areat.
*    IF &lt;d&gt; IS ASSIGNED.
*      READ TABLE &lt;d&gt;-texts ASSIGNING &lt;dt&gt;
*          WITH KEY tdspras = s_txt-langu.
*      IF sy-subrc = 0.    s_txt-long_txt = &lt;dt&gt;.   CLEAR s_txt-long_txt-tdspras.    DELETE TABLE &lt;d&gt;-texts FROM &lt;dt&gt;.    ENDIF.
*    ENDIF.
*    INSERT s_txt INTO TABLE a0_maindata-texts.
*  ENDLOOP.
*  IF &lt;d&gt; IS ASSIGNED.
*    LOOP AT &lt;d&gt;-texts ASSIGNING &lt;dt&gt;.
*      CLEAR s_txt.    s_txt-langu = &lt;dt&gt;-tdspras.   s_txt-long_txt = &lt;dt&gt;.   CLEAR s_txt-long_txt-tdspras.    INSERT s_txt INTO TABLE a0_maindata-texts.
*    ENDLOOP.
*  ENDIF.

* Source code : remove FUNCTION XXX &amp; ENDFUNCTION.
  IF NOT fm_data-source IS INITIAL.
    t_abapsrc = fm_data-source.
    READ TABLE t_abapsrc ASSIGNING &lt;s&gt; INDEX 1.
    TRANSLATE &lt;s&gt; TO UPPER CASE.                          &quot;#EC SYNTCHAR
    IF &lt;s&gt; CP &apos;FUNCTION *.&apos;.    DELETE t_abapsrc INDEX 1.   ENDIF.
    d_lcount = LINES( t_abapsrc ).
    READ TABLE t_abapsrc ASSIGNING &lt;s&gt; INDEX d_lcount.
    TRANSLATE &lt;s&gt; TO UPPER CASE.                          &quot;#EC SYNTCHAR
    IF &lt;s&gt; CP &apos;ENDFUNCTION*.&apos;.    DELETE t_abapsrc INDEX d_lcount.   ENDIF.
    source-_ = zaplink_function_group=&gt;conv_abap_raw2source( t_abapsrc ).
  ENDIF.

  UNASSIGN &lt;d&gt;.
  READ TABLE t_docs ASSIGNING &lt;d&gt;
       WITH KEY id = doc_ids-function
            object = a0_maindata-name.
  LOOP AT fm_data-texts ASSIGNING &lt;t&gt;
          WHERE funcname = a0_maindata-name.
    CLEAR s_txt.    s_txt-langu = &lt;t&gt;-spras.   s_txt-short_txt = &lt;t&gt;-stext.
    IF &lt;d&gt; IS ASSIGNED.
      READ TABLE &lt;d&gt;-texts ASSIGNING &lt;dt&gt;
          WITH KEY tdspras = s_txt-langu.
      IF sy-subrc = 0.    s_txt-long_txt = &lt;dt&gt;.   CLEAR s_txt-long_txt-tdspras.    DELETE TABLE &lt;d&gt;-texts FROM &lt;dt&gt;.   ENDIF.
    ENDIF.
    INSERT s_txt INTO TABLE texts.
  ENDLOOP.
  IF &lt;d&gt; IS ASSIGNED.
    LOOP AT &lt;d&gt;-texts ASSIGNING &lt;dt&gt;.
      CLEAR s_txt.    s_txt-langu = &lt;dt&gt;-tdspras.   s_txt-long_txt = &lt;dt&gt;.   CLEAR s_txt-long_txt-tdspras.    INSERT s_txt INTO TABLE texts.
    ENDLOOP.
  ENDIF.

  LOOP AT fm_data-import_p ASSIGNING &lt;im&gt;.
    CLEAR s_param.    s_param-hdr = &lt;im&gt;.    s_param-kind = parameter_kinds-importing.   INSERT s_param INTO TABLE parameters.
  ENDLOOP.
  LOOP AT fm_data-changing_p ASSIGNING &lt;ch&gt;.
    CLEAR s_param.    s_param-hdr = &lt;ch&gt;.    s_param-kind = parameter_kinds-changing.   INSERT s_param INTO TABLE parameters.
  ENDLOOP.
  LOOP AT fm_data-export_p ASSIGNING &lt;ex&gt;.
    CLEAR s_param.    MOVE-CORRESPONDING &lt;ex&gt; TO s_param-hdr.    s_param-kind = parameter_kinds-exporting.   INSERT s_param INTO TABLE parameters.
  ENDLOOP.
  LOOP AT fm_data-tables ASSIGNING &lt;ta&gt;.
    CLEAR s_param.    MOVE-CORRESPONDING &lt;ta&gt; TO s_param-hdr.    s_param-dbfield = &lt;ta&gt;-dbstruct.   s_param-kind = parameter_kinds-table.   INSERT s_param INTO TABLE parameters.
  ENDLOOP.
  d_doc_p-func = a0_maindata-name.
  LOOP AT parameters ASSIGNING &lt;pa&gt;.
    d_doc_p-param = &lt;pa&gt;-parameter.   UNASSIGN &lt;d&gt;.
    READ TABLE t_docs ASSIGNING &lt;d&gt;
         WITH KEY id = doc_ids-function
              object = d_doc_p.
    LOOP AT fm_data-param_texts ASSIGNING &lt;pt&gt;
         WHERE funcname = a0_maindata-name
           AND parameter = &lt;pa&gt;-parameter
           AND kind = &apos;P&apos;.
      CLEAR s_txt.    s_txt-langu = &lt;pt&gt;-spras.   s_txt-short_txt = &lt;pt&gt;-stext.
      IF &lt;d&gt; IS ASSIGNED.
        READ TABLE &lt;d&gt;-texts ASSIGNING &lt;dt&gt;
            WITH KEY tdspras = s_txt-langu.
        IF sy-subrc = 0.    s_txt-long_txt = &lt;dt&gt;.   CLEAR s_txt-long_txt-tdspras.    DELETE TABLE &lt;d&gt;-texts FROM &lt;dt&gt;.   ENDIF.
      ENDIF.
      INSERT s_txt INTO TABLE &lt;pa&gt;-texts.
    ENDLOOP.
    IF &lt;d&gt; IS ASSIGNED.
      LOOP AT &lt;d&gt;-texts ASSIGNING &lt;dt&gt;.
        CLEAR s_txt.    s_txt-langu = &lt;dt&gt;-tdspras.   s_txt-long_txt = &lt;dt&gt;.   CLEAR s_txt-long_txt-tdspras.    INSERT s_txt INTO TABLE &lt;pa&gt;-texts.
      ENDLOOP.
    ENDIF.
  ENDLOOP.

  LOOP AT fm_data-exceptions ASSIGNING &lt;cx&gt;.
    CLEAR s_excep.    s_excep-hdr = &lt;cx&gt;.
    LOOP AT fm_data-param_texts ASSIGNING &lt;pt&gt;
         WHERE funcname = a0_maindata-name
           AND parameter = &lt;cx&gt;-exception
           AND kind = &apos;X&apos;.
      CLEAR s_txt.    s_txt-langu = &lt;pt&gt;-spras.   s_txt-short_txt = &lt;pt&gt;-stext.    INSERT s_txt INTO TABLE s_excep-texts.
    ENDLOOP.
    INSERT s_excep INTO TABLE exceptions.
  ENDLOOP.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="TO_DATA" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604">
     <TEXTS>
      <ITEM LANG="E" TEXT="Convert object attributes to FM Data"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="FM_DATA" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" PARDECLTYP="3" TYPTYPE="1" TYPE="TS_FM_DATA">
       <TEXTS>
        <ITEM LANG="E" TEXT="Function Modules object Data"/>
       </TEXTS>
      </ITEM>
     </PARAMETERS>
     <SOURCE>`
  DATA s_line    LIKE LINE OF fm_data-source.
  DATA s_txt     LIKE LINE OF fm_data-texts.
  DATA s_f_txt   LIKE LINE OF fm_data-texts.
  DATA s_p_im    LIKE LINE OF fm_data-import_p.
  DATA s_p_ch    LIKE LINE OF fm_data-changing_p.
  DATA s_p_ex    LIKE LINE OF fm_data-export_p.
  DATA s_p_ta    LIKE LINE OF fm_data-tables.
  DATA s_p_txt   LIKE LINE OF fm_data-param_texts.
  DATA s_excep   LIKE LINE OF fm_data-exceptions.
  DATA d_suffix  TYPE rs38l-suffix.
  DATA d_group   TYPE rs38l-area.
*  DATA s_inc     LIKE LINE OF fm_data-includes.
  DATA d_search  TYPE string.
  DATA d_replace TYPE string.
  DATA d_lcount  TYPE i.
  DATA s_doc     LIKE LINE OF fm_data-docs.
  DATA s_doc_txt LIKE LINE OF s_doc-texts.
  DATA d_doc_p   TYPE ts_doc_param.
  FIELD-SYMBOLS:
*    &lt;t&gt;  LIKE LINE OF a0_maindata-texts,
*    &lt;i&gt;  LIKE LINE OF includes,
*    &lt;f&gt;  LIKE LINE OF functions,
    &lt;ft&gt; LIKE LINE OF texts,
    &lt;s&gt;  LIKE LINE OF fm_data-source,
    &lt;pa&gt; LIKE LINE OF parameters,
    &lt;pt&gt; LIKE LINE OF &lt;pa&gt;-texts,
    &lt;cx&gt; LIKE LINE OF exceptions.


  MOVE-CORRESPONDING a0_maindata TO fm_data-header.
* Source code : remove FUNCTION XXX &amp; ENDFUNCTION.
  IF NOT source-_ IS INITIAL.
    fm_data-source = zaplink_function_group=&gt;conv_abap_source2raw( source-_ ).
    READ TABLE fm_data-source ASSIGNING &lt;s&gt; INDEX 1.   TRANSLATE &lt;s&gt; TO UPPER CASE. &quot;#EC SYNTCHAR
    IF NOT &lt;s&gt; CP &apos;FUNCTION *.&apos;.    CONCATENATE `FUNCTION ` A0_maindata-name &apos;.&apos; INTO s_line.   INSERT s_line INTO fm_data-source INDEX 1.   ENDIF.
    d_lcount = LINES( fm_data-source ).    READ TABLE fm_data-source ASSIGNING &lt;s&gt; INDEX d_lcount.    TRANSLATE &lt;s&gt; TO UPPER CASE. &quot;#EC SYNTCHAR
    IF NOT &lt;s&gt; CP &apos;ENDFUNCTION*.&apos;.    APPEND &apos;ENDFUNCTION.&apos; TO fm_data-source.   ENDIF.
  ENDIF.

*APPLICATION                                      DOKU
*ID                                      FU
*OBJECT                                      xxxxx
*LANGU                                      F
*MASTERLANG                                      X
*TYP                                      T
*DOKFORM                                      S_DOCU_SHOW
*DOKSTYLE                                      S_DOCUS1
  CLEAR s_doc.    s_doc-application = &apos;DOKU&apos;.   s_doc-id = doc_ids-function.   s_doc-object = A0_maindata-name.
  s_doc-masterlang = abap_true.   s_doc-typ = &apos;T&apos;.    s_doc-dokform = &apos;S_DOCU_SHOW&apos;.    s_doc-dokstyle = &apos;S_DOCUS1&apos;.
  LOOP AT texts ASSIGNING &lt;ft&gt;.
    IF NOT &lt;ft&gt;-short_txt IS INITIAL.    CLEAR s_f_txt.    s_f_txt-spras = &lt;ft&gt;-langu.   s_f_txt-stext = &lt;ft&gt;-short_txt.   s_f_txt-funcname = A0_maindata-name.   INSERT s_f_txt INTO TABLE fm_data-texts.    ENDIF.
    IF NOT &lt;ft&gt;-long_txt IS INITIAL.
      CLEAR s_doc_txt.    s_doc_txt = &lt;ft&gt;-long_txt.   s_doc_txt-tdspras = &lt;ft&gt;-langu.    INSERT s_doc_txt INTO TABLE s_doc-texts.
      IF s_doc-langu IS INITIAL.    s_doc-langu = s_doc_txt-tdspras.    ENDIF.
    ENDIF.
  ENDLOOP.
  IF NOT s_doc-texts IS INITIAL.    INSERT s_doc INTO TABLE fm_data-docs.   ENDIF.

  LOOP AT parameters ASSIGNING &lt;pa&gt;.
    CASE &lt;pa&gt;-kind.
      WHEN parameter_kinds-importing.
        CLEAR s_p_im.   s_p_im = &lt;pa&gt;-hdr.    INSERT s_p_im INTO TABLE fm_data-import_p.
      WHEN parameter_kinds-changing.
        CLEAR s_p_ch.   s_p_ch = &lt;pa&gt;-hdr.    INSERT s_p_ch INTO TABLE fm_data-changing_p.
      WHEN parameter_kinds-exporting.
        CLEAR s_p_ex.   MOVE-CORRESPONDING &lt;pa&gt;-hdr TO s_p_ex.    INSERT s_p_ex INTO TABLE fm_data-export_p.
      WHEN parameter_kinds-table.
        CLEAR s_p_ta.   MOVE-CORRESPONDING &lt;pa&gt;-hdr TO s_p_ta.    s_p_ta-dbstruct = &lt;pa&gt;-dbfield.    INSERT s_p_ta INTO TABLE fm_data-tables.
      WHEN OTHERS.
    ENDCASE.
*APPLICATION                                      DOKU
*ID                                      FU
*OBJECT                                      xxxxx yyy
*LANGU                                      F
*MASTERLANG                                      X
*TYP                                      T
*DOKFORM                                      S_DOCU_SHOW
*DOKSTYLE                                      S_DOCUS1
    CLEAR: d_doc_p, s_doc.    d_doc_p-func = A0_maindata-name.    d_doc_p-param = &lt;pa&gt;-parameter.    s_doc-application = &apos;DOKU&apos;.   s_doc-id = doc_ids-function.
    s_doc-object = d_doc_p.   s_doc-masterlang = abap_true.   s_doc-typ = &apos;T&apos;.    s_doc-dokform = &apos;S_DOCU_SHOW&apos;.    s_doc-dokstyle = &apos;S_DOCUS1&apos;.
    LOOP AT &lt;pa&gt;-texts ASSIGNING &lt;pt&gt;.
      IF NOT &lt;pt&gt;-short_txt IS INITIAL.
        CLEAR s_p_txt. s_p_txt-spras = &lt;pt&gt;-langu. s_f_txt-stext = &lt;pt&gt;-short_txt. s_p_txt-funcname = A0_maindata-name. s_p_txt-parameter = &lt;pa&gt;-parameter. s_p_txt-kind = &apos;P&apos;. INSERT s_p_txt INTO TABLE fm_data-param_texts.
      ENDIF.
      IF NOT &lt;pt&gt;-long_txt IS INITIAL.
        CLEAR s_doc_txt.    s_doc_txt = &lt;pt&gt;-long_txt.   s_doc_txt-tdspras = &lt;pt&gt;-langu.    INSERT s_doc_txt INTO TABLE s_doc-texts.
        IF s_doc-langu IS INITIAL.    s_doc-langu = s_doc_txt-tdspras.    ENDIF.
      ENDIF.
    ENDLOOP.
    IF NOT s_doc-texts IS INITIAL.    INSERT s_doc INTO TABLE fm_data-docs.   ENDIF.
  ENDLOOP.

  LOOP AT exceptions ASSIGNING &lt;cx&gt;.
    CLEAR s_excep.    s_excep = &lt;cx&gt;-hdr.

    LOOP AT &lt;cx&gt;-texts ASSIGNING &lt;pt&gt;.
      CLEAR s_p_txt.    s_p_txt-spras = &lt;pt&gt;-langu.   s_f_txt-stext = &lt;pt&gt;-short_txt.   s_p_txt-funcname = A0_maindata-name.    s_p_txt-parameter = &lt;cx&gt;-exception.   s_p_txt-kind = &apos;X&apos;.    INSERT s_p_txt INTO TABLE fm_data-param_texts.
    ENDLOOP.
    INSERT s_excep INTO TABLE fm_data-exceptions.
  ENDLOOP.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="UNANONYMIZE" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604">
     <TEXTS>
      <ITEM LANG="E" TEXT="UnAnonymized component data"/>
     </TEXTS>
    </ITEM>
   </METHODS>
   <TYPEGROUPS>
    <ITEM TYPEGROUP="ABAP" VERSION="1" IMPLICIT="X"/>
   </TYPEGROUPS>
   <TYPES>
    <ITEM CMPNAME="TD_INCLUDENAME" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="13 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="1" TYPE="D010INC-INCLUDE"/>
    <ITEM CMPNAME="TD_PARAMKIND" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="22 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="1" TYPE="KIND"/>
    <ITEM CMPNAME="TO_MENUPAINTER" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="3" TYPE="ZAPLINK_MENUPAINTER_DATA">
     <TEXTS>
      <ITEM LANG="E" TEXT="Menu painter Data"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TS_DOC_PARAM" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">BEGIN OF ts_doc_param,
      func 	TYPE rs38l_fnam,
      param TYPE rs38l_par_,
    END OF ts_doc_param
`</ITEM>
    <ITEM CMPNAME="TS_EXCEP" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="25 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">BEGIN OF ts_excep.
  INCLUDE TYPE rsexc AS hdr.
  TYPES:
      texts       TYPE tt_texts,
    END OF ts_excep
`</ITEM>
    <ITEM CMPNAME="TS_FM_DATA" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="18 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">
     BEGIN OF ts_fm_data,
* DO pour type doc
                header          TYPE rs38l,
                code_signature  TYPE td_checksum,
                docs            TYPE tt_docs,
                import_p        TYPE tt_rsimp,
                changing_p      TYPE tt_rscha,
                export_p        TYPE tt_rsexp,
                tables          TYPE tt_rstbl,
                exceptions      TYPE tt_rsexc,
                source          TYPE tt_abaprawsource,
                texts           TYPE tt_tftit,
                param_texts     TYPE tt_funct,
              END OF ts_fm_data
`
     <TEXTS>
      <ITEM LANG="E" TEXT="Function Module Data"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TS_FUNCTION" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="27 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">BEGIN OF ts_function,
      name        TYPE rs38l-name,
      global      TYPE rs38l-global,
      remote      TYPE rs38l-remote,
      utask       TYPE rs38l-utask,
      texts       TYPE tt_texts,
      parameters  TYPE tt_params,
      exceptions  TYPE tt_exceptions,
      source      TYPE ts_source,
    END OF ts_function
`</ITEM>
    <ITEM CMPNAME="TS_INCLUDE" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="14 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">BEGIN OF ts_include,
      name   TYPE td_includename,
      source TYPE ts_source,
    END OF ts_include
`</ITEM>
    <ITEM CMPNAME="TS_MAINDATA" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="19 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">
     BEGIN OF ts_maindata,
      name        TYPE rs38l-name,
      global      TYPE rs38l-global,
      remote      TYPE rs38l-remote,
      utask       TYPE rs38l-utask,
      str_area    TYPE rs38l-str_area,
    END OF ts_maindata
`
     <TEXTS>
      <ITEM LANG="E" TEXT="Function Module main data"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TS_PARAM" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="23 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">BEGIN OF ts_param,
      kind TYPE td_paramkind.
  INCLUDE TYPE rsimp AS hdr.
  TYPES:
      texts       TYPE tt_texts,
    END OF ts_param
`</ITEM>
    <ITEM CMPNAME="TS_RAWINCLUDE" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="16 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">BEGIN OF ts_rawinclude,
      name   TYPE td_includename,
      source TYPE tt_abaprawsource,
    END OF ts_rawinclude
`</ITEM>
    <ITEM CMPNAME="TS_SOURCE" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="12 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">
     BEGIN OF ts_source,
            _ TYPE string,
          END OF ts_source
`
     <TEXTS>
      <ITEM LANG="E" TEXT="ABAP Source code"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TS_TEXTPOOL" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="20 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">
     BEGIN OF ts_textpool,
          id    TYPE  textpoolid,
          key	  TYPE  textpoolky,
          texts TYPE  tt_texts,
        END OF ts_textpool
`
     <TEXTS>
      <ITEM LANG="E" TEXT="Textpool"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TT_EXCEPTIONS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="26 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">tt_exceptions TYPE SORTED TABLE OF ts_excep WITH UNIQUE KEY exception
`</ITEM>
    <ITEM CMPNAME="TT_FUNCT" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="6 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">tt_funct TYPE SORTED TABLE OF funct WITH UNIQUE KEY funcname parameter kind spras
`</ITEM>
    <ITEM CMPNAME="TT_FUNCTIONS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="28 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">tt_functions TYPE SORTED TABLE OF ts_function WITH UNIQUE KEY name
`</ITEM>
    <ITEM CMPNAME="TT_INCLUDES" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="15 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">tt_includes TYPE SORTED TABLE OF ts_include WITH UNIQUE KEY name
`</ITEM>
    <ITEM CMPNAME="TT_PARAMS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="24 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">tt_params TYPE SORTED TABLE OF ts_param WITH UNIQUE KEY parameter
`</ITEM>
    <ITEM CMPNAME="TT_RAWINCLUDES" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="17 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">tt_rawincludes TYPE STANDARD TABLE OF ts_rawinclude WITH NON-UNIQUE KEY name
`</ITEM>
    <ITEM CMPNAME="TT_RSCHA" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="8 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">tt_rscha TYPE STANDARD TABLE OF rscha WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_RSEXC" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="11 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">tt_rsexc TYPE STANDARD TABLE OF rsexc WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_RSEXP" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="9 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">tt_rsexp TYPE STANDARD TABLE OF rsexp WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_RSIMP" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="7 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">tt_rsimp TYPE STANDARD TABLE OF rsimp WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_RSTBL" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="10 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">tt_rstbl TYPE STANDARD TABLE OF rstbl WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_TEXTPOOLS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="21 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">
     tt_textpools TYPE SORTED TABLE OF ts_textpool WITH UNIQUE KEY id KEY
`
     <TEXTS>
      <ITEM LANG="E" TEXT="Textpool table"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TT_TFTIT" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="5 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">tt_tftit TYPE SORTED TABLE OF tftit WITH UNIQUE KEY funcname spras
`</ITEM>
    <ITEM CMPNAME="TT_TLIBT" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="4">tt_tlibt TYPE SORTED TABLE OF tlibt WITH UNIQUE KEY spras
`</ITEM>
    <ITEM CMPNAME="T_RAW" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100604" TYPTYPE="1" TYPE="RSWSOURCET">
     <TEXTS>
      <ITEM LANG="E" TEXT="ABAP Source table"/>
     </TEXTS>
    </ITEM>
   </TYPES>
  </RAW>
 </ZL_OBJECT>
 <ZL_OBJECT CHECKSUM="294A45C7D5328C35455ECD064F70C7B8" CODE_SIGNATURE="032790C8B1C491D368C20F9CADF997C3" CONNECTOR="39AC0A4B07A5A05AE1000000AC120173" NAME="ZAPLINK_FUNC_RAW" TYPE="CLAS" VERSION="1.01">
  <DEPENDENCIES>
   <ITEM TYPE="CLAS" NAME="ZAPLINK_RAW"/>
   <ITEM TYPE="CLAS" NAME="ZAPLINK_FUNC_DATA"/>
   <ITEM TYPE="CLAS" NAME="ZAPLINK_XINX_DATA"/>
  </DEPENDENCIES>
  <DIRECTORY SRCSYSTEM="OD4" AUTHOR="TBENSIAL" DEVCLASS="ZAPLINK-CONNECTORS-MAIN" MASTERLANG="E"/>
  <RAW>
   <A0_MAINDATA VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100614" CLSCCINCL="X" FIXPT="X" UNICODE="X" R3RELEASE="700">
    <INHERITANCE REFCLSNAME="ZAPLINK_RAW" VERSION="1" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100527"/>
    <TEXTS>
     <ITEM LANG="E" TEXT="RAW object for Function Module">U1&amp;FUNCTIONALITY&amp;
ASIs part of connector : ZAPLINK_PACKAGE
U1&amp;RELATIONS&amp;
AS
U1&amp;EXAMPLE&amp;
AS
U1&amp;HINTS&amp;
AS
U1&amp;FURTHER_SOURCES_OF_INF&amp;
AS
U1Memories
ASThis application is dedicated to the memories of :
B2My father : Lamri BENSIALI (1940-2004) without whom I never started
  programming
B2My uncle : Jacky BEDU (1934-2009) who died during the completion of this
  application</ITEM>
    </TEXTS>
   </A0_MAINDATA>
   <ATTRIBUTS>
    <ITEM CMPNAME="O_CX" VERSION="1" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100527" ATTDECLTYP="1" TYPTYPE="1" TYPE="TO_ROOT_EXCEPTION" R3RELEASE="700"/>
    <ITEM CMPNAME="O_MYCX" VERSION="1" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100527" ATTDECLTYP="1" TYPTYPE="1" TYPE="TO_EXCEPTION" R3RELEASE="700"/>
   </ATTRIBUTS>
   <DEFERRED>
    <CLASSES>
     <ITEM TYPEGROUP="ZAPLINK_FUNC_DATA" VERSION="1" TPUTYPE="1" IMPLICIT="X"/>
     <ITEM TYPEGROUP="ZAPLINK_XINX_DATA" VERSION="1" TPUTYPE="1" IMPLICIT="X"/>
    </CLASSES>
   </DEFERRED>
   <FRIENDS>
    <ITEM REFCLSNAME="ZAPLINK_EASYXML" VERSION="1" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100527"/>
   </FRIENDS>
   <LOCAL>
    <TYPES>`
*&quot;* use this source file for any type declarations (class
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</TYPES>
    <IMPLEMENTATIONS>`
*&quot;* local class implementation for public class
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</IMPLEMENTATIONS>
    <MACROS>`
*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</MACROS>
   </LOCAL>
   <METHODS>
    <ITEM CMPNAME="CONSTRUCTOR" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100527" MTDTYPE="2" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="CONSTRUCTOR"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="FM_DATA" VERSION="1" CMPTYPE="1" MTDTYPE="2" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100527" PARPASSTYP="1" TYPTYPE="1" TYPE="ZAPLINK_FUNC_DATA=&gt;TS_FM_DATA" PAROPTIONL="X">
       <TEXTS>
        <ITEM LANG="E" TEXT="Function Module data"/>
       </TEXTS>
      </ITEM>
     </PARAMETERS>
     <SOURCE>`
  DATA o_comp  TYPE to_component.
  DATA o_raw   TYPE TO_MYDATA.
  DATA o_conn  TYPE to_connector.

  IF fm_data IS INITIAL.    &quot; create from ZL_EZXML
    CREATE OBJECT o_comp.
  ELSE.
    CREATE OBJECT o_comp.
    o_comp-&gt;set_type( zaplink_function_group=&gt;supportedtypes-function ).   o_comp-&gt;set_name( fm_data-header-name ).
  ENDIF.

  CALL METHOD super-&gt;constructor
    EXPORTING
      o_comp = o_comp.

  CREATE OBJECT o_raw.
  raw ?= o_raw.
  IF NOT fm_data IS INITIAL.    o_raw-&gt;from_data( fm_data ).      CLEAR: o_raw-&gt;a0_maindata-name.     ENDIF.

  CREATE OBJECT o_conn TYPE zaplink_function_group.
  update_connector_data( o_conn ).</SOURCE>
    </ITEM>
    <ITEM CMPNAME="TO_DATA" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100527" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="CONSTRUCTOR"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="FM_DATA" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100527" CHANGEDBY="TBENSIAL" CHANGEDON="20100527" PARDECLTYP="3" TYPTYPE="1" TYPE="ZAPLINK_FUNC_DATA=&gt;TS_FM_DATA">
       <TEXTS>
        <ITEM LANG="E" TEXT="Function Module data"/>
       </TEXTS>
      </ITEM>
     </PARAMETERS>
     <SOURCE>`
  DATA o_raw   TYPE TO_MYDATA.

  o_raw ?= raw.
  o_raw-&gt;a0_maindata-name = me-&gt;name.
  fm_data = o_raw-&gt;to_data( ).</SOURCE>
    </ITEM>
   </METHODS>
   <REDEFINITIONS>
    <ITEM REFCLSNAME="ZAPLINK_RAW" VERSION="1" MTDNAME="ANONYMIZE">
     <SOURCE>`
  DATA o_raw   TYPE to_mydata.

  IF raw IS BOUND.    o_raw ?= raw.   o_raw-&gt;anonymize( ).    ENDIF.
  TRY.
      CALL METHOD super-&gt;anonymize.
    CATCH zaplink_cx_container INTO o_mycx.
      RAISE EXCEPTION o_mycx.
  ENDTRY.</SOURCE>
    </ITEM>
   </REDEFINITIONS>
   <TYPES>
    <ITEM CMPNAME="TO_MYDATA" VERSION="1" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100527" TYPTYPE="3" TYPE="ZAPLINK_FUNC_DATA" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="Commun Data for Class &amp; Interface"/>
     </TEXTS>
    </ITEM>
   </TYPES>
  </RAW>
 </ZL_OBJECT>
 <ZL_OBJECT CHECKSUM="03CA583E53090CC5E901EDA28BF75820" CODE_SIGNATURE="6ACFF329E3CA9C1F69486DFFCEB16538" CONNECTOR="39AC0A4B07A5A05AE1000000AC120173" NAME="ZAPLINK_MENUPAINTER_DATA" TYPE="CLAS" VERSION="1.01">
  <DEPENDENCIES>
   <ITEM TYPE="CLAS" NAME="ZAPLINK_DOCUMENTATION"/>
  </DEPENDENCIES>
  <DIRECTORY SRCSYSTEM="OD4" AUTHOR="TBENSIAL" DEVCLASS="ZAPLINK-CONNECTORS-MAIN" MASTERLANG="E"/>
  <RAW>
   <A0_MAINDATA VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100217" CLSCCINCL="X" FIXPT="X" UNICODE="X" R3RELEASE="700">
    <TEXTS>
     <ITEM LANG="E" TEXT="Menu painter Data">U1&amp;FUNCTIONALITY&amp;
ASIs part of connector : ZAPLINK_PROGRAM
ASDefine XML structure of a Menu painter, that is used in Programs and
  Objects.
U1&amp;RELATIONS&amp;
AS
U1&amp;EXAMPLE&amp;
AS
U1&amp;HINTS&amp;
AS
U1&amp;FURTHER_SOURCES_OF_INF&amp;
AShttp://help.sap.com/saphelp_nw04/Helpdata/EN/9f/dba99935c111d1829f0000e8
= 29fbfe/content.htm
U1Memories
ASThis application is dedicated to the memories of :
B2My father : Lamri BENSIALI (1940-2004) without whom I never started
  programming
B2My uncle : Jacky BEDU (1934-2009) who died during the completion of this
  application</ITEM>
    </TEXTS>
   </A0_MAINDATA>
   <ALIASES>
    <ITEM CMPNAME="TD_DOC_ID" VERSION="1" EXPOSURE="1" CMPTYPE="3" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="TD_DOC_ID"/>
    <ITEM CMPNAME="TR_DOCID" VERSION="1" EXPOSURE="1" CMPTYPE="3" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="TR_DOCID"/>
    <ITEM CMPNAME="TT_TEXTS" VERSION="1" EXPOSURE="2" CMPTYPE="3" REFCLSNAME="ZAPLINK_DATATYPES" REFCMPNAME="TT_TEXTS"/>
   </ALIASES>
   <ATTRIBUTS>
    <ITEM CMPNAME="BAR" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="5 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" TYPTYPE="1" TYPE="GUI_FUNC">
     <TEXTS>
      <ITEM LANG="E" TEXT="Bar Menu code"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="DEFAULT_BAR" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="8 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" TYPTYPE="1" TYPE="GUI_FUNC">
     <TEXTS>
      <ITEM LANG="E" TEXT="Default Bar Menu code"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="DEFAULT_FUNCTION" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="9 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" TYPTYPE="1" TYPE="GUI_FUNC">
     <TEXTS>
      <ITEM LANG="E" TEXT="Default function Menu code"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="DOC_IDS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" ATTDECLTYP="2" TYPTYPE="4">
     BEGIN OF doc_ids,
      header TYPE td_doc_id VALUE &apos;DO&apos;,
    END OF doc_ids
`
     <TEXTS>
      <ITEM LANG="E" TEXT="Documentation IDS"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="FUNCTION" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="7 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" TYPTYPE="1" TYPE="GUI_FUNC">
     <TEXTS>
      <ITEM LANG="E" TEXT="Function&apos;s Menu code"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="FUNCTIONS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="15 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" TYPTYPE="1" TYPE="TT_FUNCTIONS">
     <TEXTS>
      <ITEM LANG="E" TEXT="Functions"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="KEY_SETTINGS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="14 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" TYPTYPE="1" TYPE="TT_KEYBOARDS"/>
    <ITEM CMPNAME="MASTER_LANG" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="10 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" TYPTYPE="1" TYPE="SPRSL">
     <TEXTS>
      <ITEM LANG="E" TEXT="Master Language"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="MENU" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="6 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" TYPTYPE="1" TYPE="GUI_FUNC">
     <TEXTS>
      <ITEM LANG="E" TEXT="Menu code"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="MENU_BARS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="13 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" TYPTYPE="1" TYPE="TT_BARS"/>
    <ITEM CMPNAME="MENU_LIST" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="12 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" TYPTYPE="1" TYPE="TT_MENUS"/>
    <ITEM CMPNAME="OBJ_TYPES" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" ATTDECLTYP="2" TYPTYPE="4">
     BEGIN OF obj_types,   &quot; FROM Include RSMPECON
      menu      TYPE mp_o_type VALUE &apos;M&apos;,
      function  TYPE mp_o_type VALUE &apos;F&apos;,
      title     TYPE mp_o_type VALUE &apos;T&apos;,
      menu_bar  TYPE mp_o_type VALUE &apos;A&apos;,
      key_set   TYPE mp_o_type VALUE &apos;P&apos;,  &quot; Function Key Setting
      button    TYPE mp_o_type VALUE &apos;B&apos;,  &quot; Pushbutton settings
      status    TYPE mp_o_type VALUE &apos;C&apos;,
      separator TYPE mp_o_type VALUE &apos;S&apos;,
      icon      TYPE mp_o_type VALUE &apos;I&apos;,
      program   TYPE mp_o_type VALUE &apos;D&apos;,
      dynpro    TYPE mp_o_type VALUE &apos;E&apos;,
      text      TYPE mp_o_type VALUE &apos;Z&apos;,
      context   TYPE mp_o_type VALUE &apos;X&apos;,
      symbolbar TYPE mp_o_type VALUE &apos;Y&apos;,
    END OF obj_types
`
     <TEXTS>
      <ITEM LANG="E" TEXT="Menu Painter: Standards maintenance: Object type"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="R_DOC_IDS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" ATTDECLTYP="1" TYPTYPE="1" TYPE="TR_DOCID">
     <TEXTS>
      <ITEM LANG="E" TEXT="Range : Documentation IDS"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="STATUS" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="11 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" TYPTYPE="1" TYPE="TT_STATUS"/>
    <ITEM CMPNAME="TEXT_TYPES" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" ATTDECLTYP="2" TYPTYPE="4">
     BEGIN OF text_types,
      object      TYPE mp_txttype VALUE &apos;M&apos;,
      icon        TYPE mp_txttype VALUE &apos;I&apos;,
      quick_info  TYPE mp_txttype VALUE &apos;Q&apos;,
      tech_info   TYPE mp_txttype VALUE &apos;T&apos;,  &quot; Technical Information
    END OF text_types
`
     <TEXTS>
      <ITEM LANG="E" TEXT="Menu Painter: Text type"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TITLES" VERSION="1" EXPOSURE="1" STATE="1" EDITORDER="16 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" TYPTYPE="1" TYPE="TT_TITLES">
     <TEXTS>
      <ITEM LANG="E" TEXT="Title bars"/>
     </TEXTS>
    </ITEM>
   </ATTRIBUTS>
   <DEFERRED>
    <CLASSES>
     <ITEM TYPEGROUP="ZAPLINK_DOCUMENTATION" VERSION="1" TPUTYPE="1" IMPLICIT="X"/>
    </CLASSES>
   </DEFERRED>
   <FRIENDS>
    <ITEM REFCLSNAME="ZAPLINK_EASYXML" VERSION="1" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100217"/>
   </FRIENDS>
   <INTERFACES>
    <ITEM REFCLSNAME="ZAPLINK_DATATYPES" VERSION="1" EXPOSURE="2" STATE="1" AUTHOR="TBENSIAL" CREATEDON="20100217" RELTYPE="1"/>
   </INTERFACES>
   <LOCAL>
    <TYPES>`
*&quot;* USE THIS SOURCE FILE FOR ANY TYPE DECLARATIONS (CLASS
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* IMPLEMENTATION OR PRIVATE METHOD&apos;S SIGNATURE
 CLASS zaplink_documentation DEFINITION LOAD.</TYPES>
    <IMPLEMENTATIONS>`
*&quot;* LOCAL CLASS IMPLEMENTATION FOR PUBLIC CLASS
*&quot;* use this source file for the implementation part of
*&quot;* LOCAL HELPER CLASSES</IMPLEMENTATIONS>
    <MACROS>`
*&quot;* USE THIS SOURCE FILE FOR ANY MACRO DEFINITIONS YOU NEED
*&quot;* IN THE IMPLEMENTATION PART OF THE CLASS</MACROS>
   </LOCAL>
   <METHODS>
    <ITEM CMPNAME="ANONYMIZE" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100219">
     <TEXTS>
      <ITEM LANG="E" TEXT="Anonymized component data"/>
     </TEXTS>
     <SOURCE>`
*  FIELD-SYMBOLS:
*    &lt;t&gt; like LINE OF texts.
*
*  clear: a0_maindata-AS4USER, a0_maindata-AS4DATE, a0_maindata-AS4TIME.
*  loop at texts ASSIGNING &lt;t&gt;.
*    clear: &lt;t&gt;-LONG_TXT-TDFUSER, &lt;t&gt;-LONG_TXT-TDFDATE, &lt;t&gt;-LONG_TXT-TDFTIME.
*  endloop.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="CLASS_CONSTRUCTOR" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100219" MTDTYPE="2" MTDDECLTYP="1">
     <TEXTS>
      <ITEM LANG="E" TEXT="CLASS_CONSTRUCTOR"/>
     </TEXTS>
     <SOURCE>`
  DATA _id LIKE LINE OF r_doc_ids.

  _id-sign = &apos;I&apos;. _id-option = &apos;EQ&apos;.
  _id-low = doc_ids-header. APPEND _id TO r_doc_ids.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="FROM_DATA" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100219">
     <TEXTS>
      <ITEM LANG="E" TEXT="Convert FM Data to object attributes"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="FM_DATA" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100219" PARPASSTYP="1" TYPTYPE="1" TYPE="TS_FM_DATA">
       <TEXTS>
        <ITEM LANG="E" TEXT="Function Modules object Data"/>
       </TEXTS>
      </ITEM>
     </PARAMETERS>
     <SOURCE>`
  DATA t_tmp   TYPE tt_atrt.
  DATA t_attr  TYPE SORTED TABLE OF rsmpe_atrt WITH UNIQUE KEY obj_code sub_code obj_type.
  DATA s_attr  LIKE LINE OF t_attr.
  DATA t_tmp_m TYPE tt_mnlt.
  DATA t_menus TYPE SORTED TABLE OF rsmpe_mnlt WITH UNIQUE KEY code.
  DATA s_mnu   LIKE LINE OF t_menus.
  DATA s_title LIKE LINE OF titles.
  DATA s_func  LIKE LINE OF functions.
  DATA s_statu LIKE LINE OF status.
  DATA s_s_fu  LIKE LINE OF s_statu-functions.
  DATA s_menu  LIKE LINE OF menu_list.
  DATA s_m_det LIKE LINE OF s_menu-composition.
  DATA s_bar   LIKE LINE OF menu_bars.
  DATA s_b_det LIKE LINE OF s_bar-composition.
  DATA s_key   LIKE LINE OF key_settings.
  DATA s_k_det LIKE LINE OF s_key-keys.
  DATA s_but   LIKE LINE OF s_key-pushbuttons.
  DATA s_u_det LIKE LINE OF s_but-composition.
  FIELD-SYMBOLS:
    &lt;k&gt;  LIKE LINE OF key_settings,
    &lt;at&gt; LIKE LINE OF fm_data-attributes,
    &lt;bd&gt; LIKE LINE OF fm_data-bars_det,
    &lt;kb&gt; LIKE LINE OF fm_data-keyboards,
    &lt;bu&gt; LIKE LINE OF fm_data-buttons_det,
    &lt;sf&gt; LIKE LINE OF fm_data-stat_funcs,
    &lt;st&gt; LIKE LINE OF fm_data-status,
    &lt;mn&gt; LIKE LINE OF fm_data-menus,
    &lt;md&gt; LIKE LINE OF fm_data-menus_det,
    &lt;fu&gt; LIKE LINE OF fm_data-functions,
    &lt;ti&gt; LIKE LINE OF fm_data-titles.

  bar = fm_data-header-actcode.
  menu = fm_data-header-mencode.
  function = fm_data-header-pfkcode.
  default_bar = fm_data-header-defaultact.
  default_function = fm_data-header-defaultpfk.
  master_lang = fm_data-header-mod_langu.

  LOOP AT fm_data-titles ASSIGNING &lt;ti&gt;.
    CLEAR s_title.
    MOVE-CORRESPONDING &lt;ti&gt; TO s_title-hdr.
    s_title-texts = get_texts( texts = fm_data-texts
                            obj_type = obj_types-title
                            obj_code = s_title-code
                            sub_code = space
                            texttype = text_types-tech_info ).
    INSERT s_title INTO TABLE titles.
  ENDLOOP.

  LOOP AT fm_data-functions ASSIGNING &lt;fu&gt;.
    CLEAR s_func.
    MOVE-CORRESPONDING &lt;fu&gt; TO s_func-hdr.
    s_func-texts = get_func_texts( texts = fm_data-texts
                                obj_code = s_func-code
                                sub_code = s_func-textno ).
    INSERT s_func INTO TABLE functions.
  ENDLOOP.

  t_tmp_m = fm_data-menus.
  SORT t_tmp_m                                   BY code.
  DELETE ADJACENT DUPLICATES FROM t_tmp_m COMPARING code.
  t_menus = t_tmp_m.
* Security Menu bars without name are not in attributes tables.
  LOOP AT fm_data-menus_det ASSIGNING &lt;md&gt;.
    READ TABLE t_menus TRANSPORTING NO FIELDS
         WITH TABLE KEY code = &lt;md&gt;-code.
    IF sy-subrc &lt;&gt; 0.
      CLEAR s_mnu.        s_mnu-code = &lt;md&gt;-code.
      INSERT s_mnu INTO TABLE t_menus.
    ENDIF.
  ENDLOOP.
  LOOP AT t_menus ASSIGNING &lt;mn&gt;.
    CLEAR s_menu.
    MOVE-CORRESPONDING &lt;mn&gt; TO s_menu-hdr.
    s_menu-texts = get_texts( texts = fm_data-texts
                           obj_type = obj_types-menu
                           obj_code = s_menu-code
                           sub_code = space
                           texttype = text_types-object ).
    LOOP AT fm_data-menus_det ASSIGNING &lt;md&gt;
            WHERE code = &lt;mn&gt;-code.
      CLEAR s_m_det.
      MOVE-CORRESPONDING &lt;md&gt; TO s_m_det.
      CLEAR: s_m_det-code.
      INSERT s_m_det INTO TABLE s_menu-composition.
    ENDLOOP.
    INSERT s_menu INTO TABLE menu_list.
  ENDLOOP.

  t_tmp = fm_data-attributes.
  SORT t_tmp                                   BY obj_code sub_code obj_type.
  DELETE ADJACENT DUPLICATES FROM t_tmp COMPARING obj_code sub_code obj_type.
  t_attr = t_tmp.
* Security Menu bars without name are not in attributes tables.
  LOOP AT fm_data-bars_det ASSIGNING &lt;bd&gt;.
    READ TABLE t_attr TRANSPORTING NO FIELDS
         WITH TABLE KEY obj_code = &lt;bd&gt;-code
                        sub_code = space
                        obj_type = obj_types-menu_bar.
    IF sy-subrc &lt;&gt; 0.
      CLEAR s_attr.        s_attr-obj_type = obj_types-menu_bar.         s_attr-obj_code = &lt;bd&gt;-code.
      INSERT s_attr INTO TABLE t_attr.
    ENDIF.
  ENDLOOP.
* Security keyboars without name are not in attributes tables.
  LOOP AT fm_data-keyboards ASSIGNING &lt;kb&gt;.
    READ TABLE t_attr TRANSPORTING NO FIELDS
         WITH TABLE KEY obj_code = &lt;kb&gt;-code
                        sub_code = space
                        obj_type = obj_types-key_set.
    IF sy-subrc &lt;&gt; 0.
      CLEAR s_attr.        s_attr-obj_type = obj_types-key_set.         s_attr-obj_code = &lt;kb&gt;-code.
      INSERT s_attr INTO TABLE t_attr.
    ENDIF.
  ENDLOOP.
* Security button without name are not in attributes tables.
  LOOP AT fm_data-buttons_det ASSIGNING &lt;bu&gt;.
    READ TABLE t_attr TRANSPORTING NO FIELDS
         WITH TABLE KEY obj_code = &lt;bu&gt;-pfk_code
                        sub_code = &lt;bu&gt;-code
                        obj_type = obj_types-button.
    IF sy-subrc &lt;&gt; 0.
      CLEAR s_attr.        s_attr-obj_type = obj_types-button.         s_attr-obj_code = &lt;bu&gt;-pfk_code.     s_attr-sub_code = &lt;bu&gt;-code.
      INSERT s_attr INTO TABLE t_attr.
    ENDIF.
  ENDLOOP.

  LOOP AT t_attr ASSIGNING &lt;at&gt;.
    CASE &lt;at&gt;-obj_type.
      WHEN obj_types-menu_bar.
        CLEAR s_bar.        MOVE-CORRESPONDING &lt;at&gt; TO s_bar-hdr.
        s_bar-texts = get_texts( texts = fm_data-texts
                              obj_type = obj_types-menu_bar
                              obj_code = s_bar-obj_code
                              sub_code = space
                              texttype = text_types-tech_info ).
        LOOP AT fm_data-bars_det ASSIGNING &lt;bd&gt;
                WHERE code = &lt;at&gt;-obj_code.
          CLEAR s_b_det.        MOVE-CORRESPONDING &lt;bd&gt; TO s_b_det.         CLEAR: s_b_det-code.
          INSERT s_b_det INTO TABLE s_bar-composition.
        ENDLOOP.
        CLEAR s_bar-obj_type.
        INSERT s_bar INTO TABLE menu_bars.
      WHEN obj_types-key_set.
        CLEAR s_key.          MOVE-CORRESPONDING &lt;at&gt; TO s_key-hdr.
        s_key-texts = get_texts( texts = fm_data-texts
                              obj_type = obj_types-key_set
                              obj_code = s_key-obj_code
                              sub_code = space
                              texttype = text_types-tech_info ).
        LOOP AT fm_data-keyboards ASSIGNING &lt;kb&gt;
                WHERE code = &lt;at&gt;-obj_code.
          CLEAR s_k_det.          MOVE-CORRESPONDING &lt;kb&gt; TO s_k_det.       CLEAR: s_k_det-code.
          INSERT s_k_det INTO TABLE s_key-keys.
        ENDLOOP.
        CLEAR s_key-obj_type.
        INSERT s_key INTO TABLE key_settings.
      WHEN obj_types-button.
        READ TABLE key_settings ASSIGNING &lt;k&gt;
             WITH TABLE KEY obj_code = &lt;at&gt;-obj_code.
        IF sy-subrc &lt;&gt; 0.
          WRITE:/ &apos;button without key&apos;, &lt;at&gt;-obj_code.
        ELSE.
          CLEAR s_but.        MOVE-CORRESPONDING &lt;at&gt; TO s_but-hdr.
          s_but-texts = get_texts( texts = fm_data-texts
                                obj_type = obj_types-button
                                obj_code = s_but-obj_code
                                sub_code = s_but-sub_code
                                texttype = text_types-tech_info ).
          LOOP AT fm_data-buttons_det ASSIGNING &lt;bu&gt;
                  WHERE pfk_code = &lt;at&gt;-obj_code
                    AND code = &lt;at&gt;-sub_code.
            CLEAR s_u_det.        MOVE-CORRESPONDING &lt;bu&gt; TO s_u_det.       CLEAR: s_u_det-pfk_code, s_u_det-code.
            INSERT s_u_det INTO TABLE s_but-composition.
          ENDLOOP.
          CLEAR: s_but-obj_type, s_but-obj_code.
          INSERT s_but INTO TABLE &lt;k&gt;-pushbuttons.
        ENDIF.
    ENDCASE.
  ENDLOOP.

  LOOP AT fm_data-status ASSIGNING &lt;st&gt;.
    CLEAR s_statu.     MOVE-CORRESPONDING &lt;st&gt; TO s_statu-hdr.
    s_statu-texts = get_texts( texts = fm_data-texts
                            obj_type = obj_types-status
                            obj_code = s_statu-code
                            sub_code = space
                            texttype = text_types-tech_info ).
    LOOP AT fm_data-stat_funcs ASSIGNING &lt;sf&gt;
            WHERE status = &lt;st&gt;-code.
      s_s_fu = &lt;sf&gt;-function.
      INSERT s_s_fu INTO TABLE s_statu-functions.
    ENDLOOP.
    INSERT s_statu INTO TABLE status.
  ENDLOOP.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="GET_FUNC_TEXTS" VERSION="1" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100218" MTDDECLTYP="1" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="Get Function texts"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="OBJ_CODE" VERSION="1" CMPTYPE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" PARPASSTYP="1" TYPTYPE="1" TYPE="RSMPTEXTS-OBJ_CODE">
       <TEXTS>
        <ITEM LANG="E" TEXT="Menu Painter: Function code"/>
       </TEXTS>
      </ITEM>
      <ITEM SCONAME="RESULT" VERSION="1" CMPTYPE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" PARDECLTYP="3" TYPTYPE="1" TYPE="TT_MP_FTEXTS"/>
      <ITEM SCONAME="SUB_CODE" VERSION="1" CMPTYPE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" PARPASSTYP="1" TYPTYPE="1" TYPE="CLIKE">
       <TEXTS>
        <ITEM LANG="E" TEXT="Menu Painter. Function key code"/>
       </TEXTS>
      </ITEM>
      <ITEM SCONAME="TEXTS" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100218" PARPASSTYP="1" TYPTYPE="1" TYPE="TT_STEXTS"/>
     </PARAMETERS>
     <SOURCE>`
  DATA s_txt LIKE LINE OF result.
  FIELD-SYMBOLS:
    &lt;r&gt; LIKE LINE OF result,
    &lt;t&gt; LIKE LINE OF texts.

  LOOP AT texts ASSIGNING &lt;t&gt;
       WHERE obj_type = obj_types-function
         AND obj_code = obj_code
         AND sub_code = sub_code.
    READ TABLE result ASSIGNING &lt;r&gt;
         WITH TABLE KEY langu = &lt;t&gt;-sprsl.
    IF sy-subrc &lt;&gt; 0.
      s_txt-langu = &lt;t&gt;-sprsl.
      INSERT s_txt INTO TABLE result.
      READ TABLE result ASSIGNING &lt;r&gt;
           WITH TABLE KEY langu = &lt;t&gt;-sprsl.
      IF sy-subrc &lt;&gt; 0.
* Not possible ==&gt; will dump
      ENDIF.
    ENDIF.

    CASE &lt;t&gt;-texttype.
      WHEN text_types-object.
        &lt;r&gt;-text = &lt;t&gt;-text.
      WHEN text_types-icon.
        &lt;r&gt;-icon = &lt;t&gt;-text.
      WHEN text_types-quick_info.
        &lt;r&gt;-info = &lt;t&gt;-text.
      WHEN OTHERS.
* Erro handling
    ENDCASE.
  ENDLOOP.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="GET_TEXTS" VERSION="1" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" MTDDECLTYP="1" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="Get texts for Object_type"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="OBJ_CODE" VERSION="1" CMPTYPE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100218" PARPASSTYP="1" TYPTYPE="1" TYPE="RSMPTEXTS-OBJ_CODE">
       <TEXTS>
        <ITEM LANG="E" TEXT="Menu Painter: Function code"/>
       </TEXTS>
      </ITEM>
      <ITEM SCONAME="OBJ_TYPE" VERSION="1" CMPTYPE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100218" PARPASSTYP="1" TYPTYPE="1" TYPE="RSMPTEXTS-OBJ_TYPE">
       <TEXTS>
        <ITEM LANG="E" TEXT="Menu Painter: Standards maintenance: Object type"/>
       </TEXTS>
      </ITEM>
      <ITEM SCONAME="RESULT" VERSION="1" CMPTYPE="1" EDITORDER="6 " AUTHOR="TBENSIAL" CREATEDON="20100218" PARDECLTYP="3" TYPTYPE="1" TYPE="TT_MP_TEXTS"/>
      <ITEM SCONAME="SUB_CODE" VERSION="1" CMPTYPE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" PARPASSTYP="1" TYPTYPE="1" TYPE="CLIKE">
       <TEXTS>
        <ITEM LANG="E" TEXT="Menu Painter. Function key code"/>
       </TEXTS>
      </ITEM>
      <ITEM SCONAME="TEXTS" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100218" PARPASSTYP="1" TYPTYPE="1" TYPE="TT_STEXTS"/>
      <ITEM SCONAME="TEXTTYPE" VERSION="1" CMPTYPE="1" EDITORDER="5 " AUTHOR="TBENSIAL" CREATEDON="20100218" PARPASSTYP="1" TYPTYPE="1" TYPE="RSMPTEXTS-TEXTTYPE">
       <TEXTS>
        <ITEM LANG="E" TEXT="Menu Painter: Text type"/>
       </TEXTS>
      </ITEM>
     </PARAMETERS>
     <SOURCE>`
  DATA s_txt LIKE LINE OF result.
  FIELD-SYMBOLS:
    &lt;t&gt; LIKE LINE OF texts.

  LOOP AT texts ASSIGNING &lt;t&gt;
       WHERE obj_type = obj_type
         AND obj_code = obj_code
         AND sub_code = sub_code
         AND texttype = texttype.
    s_txt-langu = &lt;t&gt;-sprsl.
    s_txt-text = &lt;t&gt;-text.
    INSERT s_txt INTO TABLE result.
  ENDLOOP.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="SET_FUNC_TEXTS" VERSION="1" STATE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20100218" MTDDECLTYP="1" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="Set Function texts"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="OBJ_CODE" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" PARPASSTYP="1" TYPTYPE="1" TYPE="RSMPTEXTS-OBJ_CODE">
       <TEXTS>
        <ITEM LANG="E" TEXT="Menu Painter: Function code"/>
       </TEXTS>
      </ITEM>
      <ITEM SCONAME="RESULT" VERSION="1" CMPTYPE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" PARDECLTYP="2" PARPASSTYP="1" TYPTYPE="1" TYPE="TT_STEXTS"/>
      <ITEM SCONAME="SUB_CODE" VERSION="1" CMPTYPE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" PARPASSTYP="1" TYPTYPE="1" TYPE="CLIKE">
       <TEXTS>
        <ITEM LANG="E" TEXT="Menu Painter. Function key code"/>
       </TEXTS>
      </ITEM>
      <ITEM SCONAME="TEXTS" VERSION="1" CMPTYPE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" PARPASSTYP="1" TYPTYPE="1" TYPE="TT_MP_FTEXTS"/>
     </PARAMETERS>
     <SOURCE>`
  DATA s_txt LIKE LINE OF result.
  FIELD-SYMBOLS:
    &lt;t&gt; LIKE LINE OF texts.

  LOOP AT texts ASSIGNING &lt;t&gt;.
    clear s_txt.
    s_txt-obj_type = obj_types-function.
    s_txt-obj_code = obj_code.
    s_txt-sub_code = sub_code.
    s_txt-sprsl = &lt;t&gt;-langu.
    s_txt-texttype = text_types-object.     s_txt-text = &lt;t&gt;-text.      if not s_txt-text is INITIAL. INSERT s_txt INTO TABLE result. endif.
    s_txt-texttype = text_types-icon.       s_txt-text = &lt;t&gt;-icon.      if not s_txt-text is INITIAL. INSERT s_txt INTO TABLE result. endif.
    s_txt-texttype = text_types-quick_info. s_txt-text = &lt;t&gt;-info.      if not s_txt-text is INITIAL. INSERT s_txt INTO TABLE result. endif.
  ENDLOOP.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="SET_TEXTS" VERSION="1" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100218" MTDDECLTYP="1" R3RELEASE="700">
     <TEXTS>
      <ITEM LANG="E" TEXT="Set texts from texts data"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="OBJ_CODE" VERSION="1" CMPTYPE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" PARPASSTYP="1" TYPTYPE="1" TYPE="RSMPTEXTS-OBJ_CODE">
       <TEXTS>
        <ITEM LANG="E" TEXT="Menu Painter: Function code"/>
       </TEXTS>
      </ITEM>
      <ITEM SCONAME="OBJ_TYPE" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" PARPASSTYP="1" TYPTYPE="1" TYPE="RSMPTEXTS-OBJ_TYPE">
       <TEXTS>
        <ITEM LANG="E" TEXT="Menu Painter: Standards maintenance: Object type"/>
       </TEXTS>
      </ITEM>
      <ITEM SCONAME="RESULT" VERSION="1" CMPTYPE="1" EDITORDER="6 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" PARDECLTYP="2" PARPASSTYP="1" TYPTYPE="1" TYPE="TT_STEXTS"/>
      <ITEM SCONAME="SUB_CODE" VERSION="1" CMPTYPE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" PARPASSTYP="1" TYPTYPE="1" TYPE="CLIKE">
       <TEXTS>
        <ITEM LANG="E" TEXT="Menu Painter. Function key code"/>
       </TEXTS>
      </ITEM>
      <ITEM SCONAME="TEXTS" VERSION="1" CMPTYPE="1" EDITORDER="5 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" TYPTYPE="1" TYPE="TT_MP_TEXTS"/>
      <ITEM SCONAME="TEXTTYPE" VERSION="1" CMPTYPE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100218" PARPASSTYP="1" TYPTYPE="1" TYPE="RSMPTEXTS-TEXTTYPE">
       <TEXTS>
        <ITEM LANG="E" TEXT="Menu Painter: Text type"/>
       </TEXTS>
      </ITEM>
     </PARAMETERS>
     <SOURCE>`
  DATA s_txt LIKE LINE OF result.
  FIELD-SYMBOLS:
    &lt;t&gt; LIKE LINE OF texts.

  LOOP AT texts ASSIGNING &lt;t&gt;.
    s_txt-obj_type = obj_type.
    s_txt-obj_code = obj_code.
    s_txt-sub_code = sub_code.
    s_txt-texttype = texttype.
    s_txt-sprsl = &lt;t&gt;-langu.
    s_txt-text = &lt;t&gt;-text.
    INSERT s_txt INTO TABLE result.
  ENDLOOP.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="TO_DATA" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100219">
     <TEXTS>
      <ITEM LANG="E" TEXT="Convert object attributes to FM Data"/>
     </TEXTS>
     <PARAMETERS>
      <ITEM SCONAME="FM_DATA" VERSION="1" CMPTYPE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100219" PARDECLTYP="3" TYPTYPE="1" TYPE="TS_FM_DATA">
       <TEXTS>
        <ITEM LANG="E" TEXT="Function Modules object Data"/>
       </TEXTS>
      </ITEM>
     </PARAMETERS>
     <SOURCE>`
  DATA s_title LIKE LINE OF fm_data-titles.
  DATA s_func  LIKE LINE OF fm_data-functions.
  DATA s_statu LIKE LINE OF fm_data-status.
  DATA s_s_fu  LIKE LINE OF fm_data-stat_funcs.
  DATA s_menu  LIKE LINE OF fm_data-menus.
  DATA s_m_det LIKE LINE OF fm_data-menus_det.
  DATA s_attr  LIKE LINE OF fm_data-attributes.
  DATA s_b_det LIKE LINE OF fm_data-bars_det.
  DATA s_k_det LIKE LINE OF fm_data-keyboards.
  DATA s_but   LIKE LINE OF fm_data-buttons_det.
  FIELD-SYMBOLS:
    &lt;mb&gt; LIKE LINE OF menu_bars,
    &lt;bc&gt; LIKE LINE OF &lt;mb&gt;-composition,
    &lt;ks&gt; LIKE LINE OF key_settings,
    &lt;kk&gt; LIKE LINE OF &lt;ks&gt;-keys,
    &lt;pb&gt; LIKE LINE OF &lt;ks&gt;-pushbuttons,
    &lt;pc&gt; LIKE LINE OF &lt;pb&gt;-composition,
    &lt;st&gt; LIKE LINE OF status,
    &lt;sf&gt; LIKE LINE OF &lt;st&gt;-functions,
    &lt;mn&gt; LIKE LINE OF menu_list,
    &lt;md&gt; LIKE LINE OF &lt;mn&gt;-composition,
    &lt;fu&gt; LIKE LINE OF functions,
    &lt;ti&gt; LIKE LINE OF titles.

  fm_data-header-actcode = bar.
  fm_data-header-mencode = menu.
  fm_data-header-pfkcode = function.
  fm_data-header-defaultact = default_bar.
  fm_data-header-defaultpfk = default_function.
  fm_data-header-mod_langu = master_lang.

  LOOP AT titles ASSIGNING &lt;ti&gt;.
    CLEAR s_title.        MOVE-CORRESPONDING &lt;ti&gt;-hdr TO s_title.
    INSERT s_title INTO TABLE fm_data-titles.
    CALL METHOD set_texts
      EXPORTING
        obj_type = obj_types-title
        obj_code = s_title-code
        sub_code = space
        texttype = text_types-tech_info
        texts    = &lt;ti&gt;-texts
      CHANGING
        RESULT   = fm_data-texts.
  ENDLOOP.

  LOOP AT functions ASSIGNING &lt;fu&gt;.
    CLEAR s_func.     MOVE-CORRESPONDING &lt;fu&gt;-hdr TO s_func.
    INSERT s_func INTO TABLE fm_data-functions.
    CALL METHOD set_func_texts
      EXPORTING
        obj_code = s_func-code
        sub_code = s_func-textno
        texts    = &lt;fu&gt;-texts
      CHANGING
        RESULT   = fm_data-texts.
  ENDLOOP.

  LOOP AT menu_list ASSIGNING &lt;mn&gt;.
    CLEAR s_menu.     MOVE-CORRESPONDING &lt;mn&gt;-hdr TO s_menu.
    INSERT s_menu INTO TABLE fm_data-menus.
    CALL METHOD set_texts
      EXPORTING
        obj_type = obj_types-menu
        obj_code = s_menu-code
        sub_code = space
        texttype = text_types-object
        texts    = &lt;mn&gt;-texts
      CHANGING
        RESULT   = fm_data-texts.
    LOOP AT &lt;mn&gt;-composition ASSIGNING &lt;md&gt;.
      CLEAR s_m_det.      MOVE-CORRESPONDING &lt;md&gt; TO s_m_det.       s_m_det-code = &lt;mn&gt;-code.
      INSERT s_m_det INTO TABLE fm_data-menus_det.
    ENDLOOP.
  ENDLOOP.

* Menu Bars
  LOOP AT menu_bars ASSIGNING &lt;mb&gt;.
    CLEAR s_attr.         MOVE-CORRESPONDING &lt;mb&gt;-hdr TO s_attr.    s_attr-obj_type = obj_types-menu_bar.
    INSERT s_attr INTO TABLE fm_data-attributes.
    CALL METHOD set_texts
      EXPORTING
        obj_type = obj_types-menu_bar
        obj_code = s_attr-obj_code
        sub_code = space
        texttype = text_types-tech_info
        texts    = &lt;mb&gt;-texts
      CHANGING
        RESULT   = fm_data-texts.
    LOOP AT &lt;mb&gt;-composition ASSIGNING &lt;bc&gt;.
      CLEAR s_b_det.      MOVE-CORRESPONDING &lt;bc&gt; TO s_b_det.       s_b_det-code = &lt;mb&gt;-obj_code.
      INSERT s_b_det INTO TABLE fm_data-bars_det.
    ENDLOOP.
  ENDLOOP.

* Key settings
  LOOP AT key_settings ASSIGNING &lt;ks&gt;.
    CLEAR s_attr.         MOVE-CORRESPONDING &lt;ks&gt;-hdr TO s_attr.    s_attr-obj_type = obj_types-key_set.
    INSERT s_attr INTO TABLE fm_data-attributes.
    LOOP AT &lt;ks&gt;-keys ASSIGNING &lt;kk&gt;.
      CLEAR s_k_det.      MOVE-CORRESPONDING &lt;kk&gt; TO s_k_det.       s_k_det-code = &lt;ks&gt;-obj_code.
      INSERT s_k_det INTO TABLE fm_data-keyboards.
    ENDLOOP.
    LOOP AT &lt;ks&gt;-pushbuttons ASSIGNING &lt;pb&gt;.
      CLEAR s_attr.       MOVE-CORRESPONDING &lt;pb&gt; TO s_attr.        s_attr-obj_type = obj_types-button.       s_attr-obj_code = &lt;ks&gt;-obj_code.
      INSERT s_attr INTO TABLE fm_data-attributes.
      CALL METHOD set_texts
        EXPORTING
          obj_type = obj_types-button
          obj_code = s_attr-obj_code
          sub_code = s_attr-sub_code
          texttype = text_types-tech_info
          texts    = &lt;pb&gt;-texts
        CHANGING
          RESULT   = fm_data-texts.
      LOOP AT &lt;pb&gt;-composition ASSIGNING &lt;pc&gt;.
        CLEAR s_but.      MOVE-CORRESPONDING &lt;pc&gt; TO s_but.         s_but-pfk_code = &lt;ks&gt;-obj_code.        s_but-code = &lt;pb&gt;-sub_code.
        INSERT s_but INTO TABLE fm_data-buttons_det.
      ENDLOOP.
    ENDLOOP.
  ENDLOOP.

  LOOP AT status ASSIGNING &lt;st&gt;.
    CLEAR s_statu.        MOVE-CORRESPONDING &lt;st&gt;-hdr TO s_statu.
    INSERT s_statu INTO TABLE fm_data-status.
    CALL METHOD set_texts
      EXPORTING
        obj_type = obj_types-status
        obj_code = s_statu-code
        sub_code = space
        texttype = text_types-tech_info
        texts    = &lt;st&gt;-texts
      CHANGING
        RESULT   = fm_data-texts.
    LOOP AT &lt;st&gt;-functions ASSIGNING &lt;sf&gt;.
      CLEAR s_s_fu.     s_s_fu-status = &lt;st&gt;-code.      s_s_fu-function = &lt;sf&gt;.
      INSERT s_s_fu INTO TABLE fm_data-stat_funcs.
    ENDLOOP.
  ENDLOOP.</SOURCE>
    </ITEM>
    <ITEM CMPNAME="UNANONYMIZE" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="5 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100219">
     <TEXTS>
      <ITEM LANG="E" TEXT="UnAnonymized component data"/>
     </TEXTS>
    </ITEM>
   </METHODS>
   <TYPES>
    <ITEM CMPNAME="TS_ATTRIBUTE" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="22 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">BEGIN OF ts_attribute.
    INCLUDE TYPE rsmpe_atr AS hdr.
    TYPES:
        texts TYPE tt_mp_texts,
      END OF ts_attribute
`</ITEM>
    <ITEM CMPNAME="TS_BAR" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="14 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">BEGIN OF ts_bar.
    INCLUDE TYPE rsmpe_atr AS hdr.
    TYPES:
        texts        TYPE tt_mp_texts,
        composition  TYPE tt_bar_details,
      END OF ts_bar
`</ITEM>
    <ITEM CMPNAME="TS_BUTTON" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="17 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">BEGIN OF ts_button.
    INCLUDE TYPE rsmpe_atr AS hdr.
    TYPES:
        texts        TYPE tt_mp_texts,
        composition  TYPE tt_button_details,
      END OF ts_button
`</ITEM>
    <ITEM CMPNAME="TS_FM_DATA" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="39 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">
     BEGIN OF ts_fm_data,
          header        TYPE rsmpe_adm,
          status        TYPE tt_stat,
          functions     TYPE tt_funt,
          menus_det     TYPE tt_men,
          menus         TYPE tt_mnlt,
          bars_det      TYPE tt_act,
          buttons_det   TYPE tt_but,
          keyboards     TYPE tt_pfk,
          stat_funcs    TYPE tt_staf,
          attributes    TYPE tt_atrt,
          titles        TYPE tt_titt,
          ffuncs        TYPE tt_buts,
          texts         TYPE tt_stexts,
        END OF ts_fm_data
`
     <TEXTS>
      <ITEM LANG="E" TEXT="Function Module Data"/>
     </TEXTS>
    </ITEM>
    <ITEM CMPNAME="TS_FUNCTION" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="8 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">BEGIN OF ts_function.
    INCLUDE TYPE rsmpe_fun AS hdr.
    TYPES:
        texts         TYPE tt_mp_ftexts,
      END OF ts_function
`</ITEM>
    <ITEM CMPNAME="TS_KEYBOARD" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="20 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">BEGIN OF ts_keyboard.
    INCLUDE TYPE rsmpe_atr AS hdr.
    TYPES:
        texts        TYPE tt_mp_texts,
        keys         TYPE tt_keyssettings,
        pushbuttons  TYPE tt_buttons,
      END OF ts_keyboard
`</ITEM>
    <ITEM CMPNAME="TS_MENU" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="11 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">BEGIN OF ts_menu.
    INCLUDE TYPE rsmpe_mnl AS hdr.
    TYPES:
        texts        TYPE tt_mp_texts,
        composition  TYPE tt_menu_details,
      END OF ts_menu
`</ITEM>
    <ITEM CMPNAME="TS_MP_FTEXT" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="3 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">BEGIN OF ts_mp_ftext,
          langu TYPE rsmptexts-sprsl,
          text  TYPE rsmptexts-text,
          icon  TYPE rsmptexts-text,
          info  TYPE rsmptexts-text,
        END OF ts_mp_ftext
`</ITEM>
    <ITEM CMPNAME="TS_MP_TEXT" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="1 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">BEGIN OF ts_mp_text,
          langu TYPE rsmptexts-sprsl,
          text  TYPE rsmptexts-text,
*    types:
*      begin of ts_menu.
*        include TYPE rsmpe_mnl as hdr.
*    types:
*        texts type tt_mp_texts,
*      end of ts_menu.
*    TYPES:
*      tt_mtexts TYPE STANDARD TABLE OF t WITH unique KEY code .
        END OF ts_mp_text
`</ITEM>
    <ITEM CMPNAME="TS_STATUS" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="6 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">BEGIN OF ts_status.
    INCLUDE TYPE rsmpe_sta AS hdr.
    TYPES:
        texts TYPE tt_mp_texts,
        functions TYPE tt_funcs,
      END OF ts_status
`</ITEM>
    <ITEM CMPNAME="TS_TITLE" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="24 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">BEGIN OF ts_title.
    INCLUDE TYPE rsmpe_tit AS hdr.
    TYPES:
        texts TYPE tt_mp_texts,
      END OF ts_title
`</ITEM>
    <ITEM CMPNAME="TT_ACT" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="31 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_act TYPE STANDARD TABLE OF rsmpe_act WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_ATRT" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="35 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_atrt TYPE STANDARD TABLE OF rsmpe_atrt WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_ATTRIBUTES" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="23 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_attributes TYPE SORTED TABLE OF ts_attribute WITH UNIQUE KEY obj_type obj_code sub_code
`</ITEM>
    <ITEM CMPNAME="TT_BARS" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="15 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_bars TYPE SORTED TABLE OF ts_bar WITH UNIQUE KEY obj_code
`</ITEM>
    <ITEM CMPNAME="TT_BAR_DETAILS" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="13 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_bar_details TYPE SORTED TABLE OF rsmpe_act WITH UNIQUE KEY no
`</ITEM>
    <ITEM CMPNAME="TT_BUT" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="32 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_but TYPE STANDARD TABLE OF rsmpe_but WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_BUTS" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="37 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_buts TYPE STANDARD TABLE OF rsmpe_buts WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_BUTTONS" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="18 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_buttons TYPE SORTED TABLE OF ts_button WITH UNIQUE KEY sub_code
`</ITEM>
    <ITEM CMPNAME="TT_BUTTON_DETAILS" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="16 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_button_details TYPE SORTED TABLE OF rsmpe_but WITH UNIQUE KEY no
`</ITEM>
    <ITEM CMPNAME="TT_FFUNCS" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="26 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_ffuncs TYPE SORTED TABLE OF rsmpe_buts WITH UNIQUE KEY obj_code sub_code
`</ITEM>
    <ITEM CMPNAME="TT_FUNCS" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="5 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_funcs TYPE SORTED TABLE OF gui_func WITH UNIQUE KEY table_line
`</ITEM>
    <ITEM CMPNAME="TT_FUNCTIONS" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="9 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_functions TYPE SORTED TABLE OF ts_function WITH UNIQUE KEY code textno
`</ITEM>
    <ITEM CMPNAME="TT_FUNT" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="28 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_funt TYPE STANDARD TABLE OF rsmpe_funt WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_KEYBOARDS" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="21 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_keyboards TYPE SORTED TABLE OF ts_keyboard WITH UNIQUE KEY obj_code
`</ITEM>
    <ITEM CMPNAME="TT_KEYSSETTINGS" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="19 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_keyssettings TYPE SORTED TABLE OF rsmpe_pfk WITH UNIQUE KEY pfno
`</ITEM>
    <ITEM CMPNAME="TT_MEN" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="29 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_men TYPE STANDARD TABLE OF rsmpe_men WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_MENUS" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="12 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_menus TYPE SORTED TABLE OF ts_menu WITH UNIQUE KEY code
`</ITEM>
    <ITEM CMPNAME="TT_MENU_DETAILS" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="10 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_menu_details TYPE SORTED TABLE OF rsmpe_men WITH UNIQUE KEY no
`</ITEM>
    <ITEM CMPNAME="TT_MNLT" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="30 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_mnlt TYPE STANDARD TABLE OF rsmpe_mnlt WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_MP_FTEXTS" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="4 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_mp_ftexts TYPE SORTED TABLE OF ts_mp_ftext WITH UNIQUE KEY langu
`</ITEM>
    <ITEM CMPNAME="TT_MP_TEXTS" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="2 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_mp_texts TYPE SORTED TABLE OF ts_mp_text WITH UNIQUE KEY langu
`</ITEM>
    <ITEM CMPNAME="TT_PFK" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="33 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_pfk TYPE STANDARD TABLE OF rsmpe_pfk WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_STAF" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="34 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_staf TYPE STANDARD TABLE OF rsmpe_staf WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_STAT" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="27 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_stat TYPE STANDARD TABLE OF rsmpe_stat WITH DEFAULT KEY
`</ITEM>
    <ITEM CMPNAME="TT_STATUS" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="7 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_status TYPE SORTED TABLE OF ts_status WITH UNIQUE KEY code
`</ITEM>
    <ITEM CMPNAME="TT_STEXTS" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="38 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_stexts TYPE SORTED TABLE OF rsmptexts WITH UNIQUE KEY obj_type obj_code sub_code texttype sprsl
`</ITEM>
    <ITEM CMPNAME="TT_TITLES" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="25 " AUTHOR="TBENSIAL" CREATEDON="20100217" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_titles TYPE SORTED TABLE OF ts_title WITH UNIQUE KEY code
`</ITEM>
    <ITEM CMPNAME="TT_TITT" VERSION="1" EXPOSURE="2" STATE="1" EDITORDER="36 " AUTHOR="TBENSIAL" CREATEDON="20100218" CHANGEDBY="TBENSIAL" CHANGEDON="20100507" TYPTYPE="4">tt_titt TYPE STANDARD TABLE OF rsmpe_titt WITH DEFAULT KEY
`</ITEM>
   </TYPES>
  </RAW>
 </ZL_OBJECT>
 <ZL_OBJECT CHECKSUM="09C443D835D231B8F3E4B5E20A8EF04A" CONNECTOR="1FAC0A4B07A5A05AE1000000AC120173" NAME="ZAPLINK_FUGR" TYPE="MSAG" VERSION="1.0">
  <DIRECTORY SRCSYSTEM="OD4" AUTHOR="TBENSIAL" DEVCLASS="ZAPLINK-CONNECTORS-MAIN" MASTERLANG="E"/>
  <RAW>
   <A0_MAINDATA MASTERLANG="E" RESPUSER="TBENSIAL" LASTUSER="TBENSIAL" LDATE="20100308" LTIME="170446"/>
   <MESSAGES>
    <ITEM MSGNR="000" NAME="TBENSIAL" DATUM="20100308" SELFDEF="3">
     <TEXTS>
      <ITEM LANGU="E" SHORT_TXT="The function &amp;1 already exist in FUGR (&amp;2), do you confirm deletion ?"/>
     </TEXTS>
    </ITEM>
   </MESSAGES>
   <TEXTS>
    <ITEM LANGU="E" SHORT_TXT="Pour object : ZAPLINK_FUNCTION_GROUP"/>
   </TEXTS>
  </RAW>
 </ZL_OBJECT>
</CONTAINER>
